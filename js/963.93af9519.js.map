{"version":3,"file":"js/963.93af9519.js","mappings":"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","sources":["webpack://record/./src/components/Pagination.vue","webpack://record/./src/components/Pagination.vue?33dc","webpack://record/./src/views/Products.vue","webpack://record/./src/components/ProductModal.vue","webpack://record/./src/components/ProductModal.vue?b0ff","webpack://record/./src/views/Products.vue?d5e3"],"sourcesContent":["<template>\n  <div>\n    <nav aria-label=\"Page navigation\">\n      <ul class=\"pagination justify-content-end pt-4\">\n        <li class=\"page-item\" :class=\"{ disabled: pages.current_page == 1 }\">\n          <a class=\"page-link\" @click.prevent=\"updatePage(pages.current_page - 1)\">\n            <i :class=\"pages.current_page == 1 ? 'bi-caret-left-fill' : 'bi-caret-left'\" class=\"bi\"></i>\n          </a>\n        </li>\n        <li\n          v-for=\"page in pages.total_pages\"\n          :key=\"page\"\n          class=\"page-item\"\n          :class=\"{ active: pages.current_page == page }\"\n        >\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{ page }}</a>\n        </li>\n        <li class=\"page-item\" :class=\"{ disabled: pages.current_page == pages.total_pages }\">\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(pages.current_page + 1)\">\n            <span aria-hidden=\"true\"\n              ><i\n                :class=\"pages.current_page == pages.total_pages ? 'bi-caret-right-fill' : 'bi-caret-right'\"\n                class=\"bi\"\n              ></i\n            ></span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n</template>\n<script>\n// :pages=\"{ 頁碼資訊 }\"\n// @emitPages=\"更新頁面事件\"\nexport default {\n  // props: ['pages'],\n  props: {\n    pages: {\n      type: Object,\n      default: () => ({\n        total_pages: 1,\n        current_page: 1,\n        has_pre: false,\n        has_next: false\n      })\n    }\n  },\n  watch: {\n    // pages() {\n    //   console.log(this.pages);\n    // }\n  },\n  methods: {\n    updatePage(page) {\n      this.$emit('emit-pages', page);\n    }\n  }\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=3ec02129\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Yuan\\\\Desktop\\\\Vue\\\\record\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <loading :active=\"isLoading\"></loading>\n  <div class=\"text-end\">\n    <button class=\"btn btn-primary\" type=\"button\" @click=\"openModal(true)\">增加一個產品</button>\n  </div>\n  <table class=\"table mt-4\">\n    <thead>\n      <tr>\n        <th width=\"120\">分類</th>\n        <th>產品名稱</th>\n        <th width=\"120\">原價</th>\n        <th width=\"120\">售價</th>\n        <th width=\"100\">是否啟用</th>\n        <th width=\"200\">編輯</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"item in products\" :key=\"item.id\">\n        <td>{{ item.category }}</td>\n        <td>{{ item.title }}</td>\n        <td class=\"text-right\">\n          {{ currency(item.origin_price) }}\n        </td>\n        <td class=\"text-right\">\n          {{ currency(item.price) }}\n        </td>\n        <td>\n          <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\n          <span class=\"text-muted\" v-else>未啟用</span>\n        </td>\n        <td>\n          <div class=\"btn-group\">\n            <!-- 將v-for內的item帶入 -->\n            <button class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false, item)\">編輯</button>\n            <button class=\"btn btn-outline-danger btn-sm\" @click=\"openDelProductModal(item)\">刪除</button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <!-- 分頁資訊 -->\n  <Pagination :pages=\"pagination\" @emit-pages=\"getProducts\"></Pagination>\n  <!-- 把tempProduct傳進product 內層使用:product接收-->\n  <ProductModal ref=\"productModal\" :product=\"tempProduct\" @update-product=\"updateProduct\"></ProductModal>\n\n  <DelModal :item=\"tempProduct\" ref=\"delModal\" @del-item=\"delProduct\" />\n</template>\n\n\n<script>\n//將寫好的ProductModal載入\nimport ProductModal from '../components/ProductModal.vue';\nimport DelModal from '@/components/DelModal.vue';\nimport Pagination from '@/components/Pagination.vue';\nimport { currency } from '../methods/filters';\n\nexport default {\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      //外層的tempProduct透過props傳進product\n      tempProduct: {},\n      //判斷是否為新增的狀態\n      isNew: false,\n      //判斷是否要有過場動畫\n      isLoading: false\n    };\n  },\n  //區域註冊\n  components: {\n    ProductModal,\n    DelModal,\n    Pagination\n  },\n  //只要使用inject就可使用 且不需要import\n  inject: ['$httpMessageState', 'emitter'],\n  methods: {\n    currency,\n    getProducts(page = 1) {\n      //跟文件對應的api路徑\n      // const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products`;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`;\n      //因讀取資料 故使用過場效果\n      this.isLoading = true;\n      this.$http.get(api).then((res) => {\n        //若已讀取完成 則將讀取效果關閉\n        this.isLoading = false;\n        if (res.data.success) {\n          this.products = res.data.products;\n          this.pagination = res.data.pagination;\n        }\n      });\n    },\n    //開啟modal\n    openModal(isNew, item) {\n      //假設是新增 isNew為true 將空的product帶入\n      if (isNew) {\n        this.tempProduct = {};\n      } else {\n        //假設為isNew為false 則將原本的item帶入空的product\n        this.tempProduct = { ...item };\n      }\n      //將狀態存入\n      this.isNew = isNew;\n      const productComponent = this.$refs.productModal;\n      productComponent.showModal();\n    },\n    //編輯更新product\n    updateProduct(item) {\n      this.isLoading = true;\n      this.tempProduct = item;\n      //若為新增則執行以下\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`;\n      //新增使用的方法 post\n      let httpMethod = 'post';\n      // 為非新增的狀態 也就是編輯\n      if (!this.isNew) {\n        //跟文件對應的api路徑 用item的id取得資料\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`;\n        //編輯使用的方法 put\n        httpMethod = 'put';\n      }\n      const productComponent = this.$refs.productModal;\n      this.$http[httpMethod](api, { data: this.tempProduct }).then((response) => {\n        this.isLoading = false;\n        productComponent.hideModal();\n        //加入吐司\n        this.$httpMessageState(response, '修改產品成功');\n        this.isLoading = false;\n      });\n    },\n    // 開啟刪除 Modal\n    openDelProductModal(item) {\n      this.tempProduct = { ...item };\n      const delComponent = this.$refs.delModal;\n      delComponent.showModal();\n    },\n    //刪除資料\n    delProduct() {\n      this.isLoading = ture;\n      //取得api路徑\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`;\n      //實作刪除\n      this.$http.delete(url).then((response) => {\n        this.isLoading = false;\n        //關閉刪除 Modal\n        const delComponent = this.$refs.delModal;\n        delComponent.hideModal();\n        //重新取得產品資料\n        this.getProducts();\n      });\n    }\n  },\n  created() {\n    this.getProducts();\n  }\n};\n</script>\n","<template>\r\n    <!-- Modal -->\r\n    <div class=\"modal fade\" id=\"exampleModal\" tabindex=\"-1\" aria-labelledby=\"exampleModalLabel\" aria-hidden=\"true\" ref=\"modal\">\r\n        <div class=\"modal-dialog modal-xl\" role=\"document\">\r\n            <div class=\"modal-content border-0\">\r\n                <div class=\"modal-header bg-dark text-white\">\r\n                <h5 class=\"modal-title\" id=\"exampleModalLabel\">\r\n                    <span>新增產品</span>\r\n                </h5>\r\n                <button type=\"button\" class=\"btn-close\"\r\n                        data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\r\n                </div>\r\n                <div class=\"modal-body\">\r\n                <div class=\"row\">\r\n                    <div class=\"col-sm-4\">\r\n                    <div class=\"mb-3\">\r\n                        <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"image\"\r\n                                placeholder=\"請輸入圖片連結\" v-model=\"tempProduct.imageUrl\">\r\n                    </div>\r\n                    <div class=\"mb-3\">\r\n                        <label for=\"customFile\" class=\"form-label\">或 上傳圖片\r\n                        <i class=\"fas fa-spinner fa-spin\"></i>\r\n                        </label>\r\n                        <!-- 有變更就觸發事件uploadFile ref取得DOM元素-->\r\n                        <input type=\"file\" id=\"customFile\" class=\"form-control\"\r\n                        ref=\"fileInput\"\r\n                        @change=\"uploadFile\">\r\n                    </div>\r\n                    <img class=\"img-fluid\" alt=\"\">\r\n                    <!-- 延伸技巧，多圖 -->\r\n                    <div class=\"mt-5\">\r\n                        <div class=\"mb-3 input-group\" >\r\n                        <input type=\"url\" class=\"form-control form-control\"\r\n                                placeholder=\"請輸入連結\">\r\n                        <button type=\"button\" class=\"btn btn-outline-danger\">\r\n                            移除\r\n                        </button>\r\n                        </div>\r\n                        <div>\r\n                        <button class=\"btn btn-outline-primary btn-sm d-block w-100\">\r\n                            新增圖片\r\n                        </button>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                    <div class=\"col-sm-8\">\r\n                    <div class=\"mb-3\">\r\n                        <label for=\"title\" class=\"form-label\">標題</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"title\"\r\n                                placeholder=\"請輸入標題\" v-model=\"tempProduct.title\">\r\n                    </div>\r\n\r\n                    <div class=\"row gx-2\">\r\n                        <div class=\"mb-3 col-md-6\">\r\n                        <label for=\"category\" class=\"form-label\">分類</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"category\"\r\n                                placeholder=\"請輸入分類\" v-model=\"tempProduct.category\">\r\n                        </div>\r\n                        <div class=\"mb-3 col-md-6\">\r\n                        <label for=\"price\" class=\"form-label\">單位</label>\r\n                        <input type=\"text\" class=\"form-control\" id=\"unit\"\r\n                                placeholder=\"請輸入單位\" v-model=\"tempProduct.unit\">\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div class=\"row gx-2\">\r\n                        <div class=\"mb-3 col-md-6\">\r\n                        <label for=\"origin_price\" class=\"form-label\">原價</label>\r\n                        <input type=\"number\" class=\"form-control\" id=\"origin_price\"\r\n                                placeholder=\"請輸入原價\" v-model=\"tempProduct.origin_price\">\r\n                        </div>\r\n                        <div class=\"mb-3 col-md-6\">\r\n                        <label for=\"price\" class=\"form-label\">售價</label>\r\n                        <input type=\"number\" class=\"form-control\" id=\"price\"\r\n                                placeholder=\"請輸入售價\" v-model=\"tempProduct.price\">\r\n                        </div>\r\n                    </div>\r\n                    <hr>\r\n\r\n                    <div class=\"mb-3\">\r\n                        <label for=\"description\" class=\"form-label\">產品描述</label>\r\n                        <textarea type=\"text\" class=\"form-control\" id=\"description\"\r\n                                placeholder=\"請輸入產品描述\" v-model=\"tempProduct.description\"></textarea>\r\n                    </div>\r\n                    <div class=\"mb-3\">\r\n                        <label for=\"content\" class=\"form-label\">說明內容</label>\r\n                        <textarea type=\"text\" class=\"form-control\" id=\"content\"\r\n                                placeholder=\"請輸入產品說明內容\" v-model=\"tempProduct.content\"></textarea>\r\n                    </div>\r\n                    <div class=\"mb-3\">\r\n                        <div class=\"form-check\">\r\n                        <input\r\n                            class=\"form-check-input\"\r\n                            type=\"checkbox\"\r\n                            v-model=\"tempProduct.is_enabled\"\r\n                            :true-value=\"1\"\r\n                            :false-value=\"0\"\r\n                            id=\"is_enabled\"\r\n                        />\r\n                        <label class=\"form-check-label\" for=\"is_enabled\">\r\n                            是否啟用\r\n                        </label>\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </div>\r\n                </div>\r\n                <div class=\"modal-footer\">\r\n                <button type=\"button\" class=\"btn btn-outline-secondary\"\r\n                        data-bs-dismiss=\"modal\">取消\r\n                </button>\r\n                <button type=\"button\" class=\"btn btn-primary\"\r\n                @click=\"$emit('update-product',tempProduct)\">確認</button>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\n//將bootstrap的modal載入\r\nimport Modal from 'bootstrap/js/dist/modal';\r\nimport modalMixin from '@/mixins/modalMixin';\r\n\r\nexport default {\r\n    props: {\r\n        // 內層使用:product接收\r\n        product: {\r\n            type: Object,\r\n            default() { return {}; },\r\n        },\r\n    },\r\n    mixins: [modalMixin],\r\n    //監聽事件是否有變更 把傳入的資料傳進tempProduct\r\n    watch: {\r\n        product(){\r\n            this.tempProduct = this.product;\r\n        },\r\n\r\n    },\r\n    data() {\r\n        return {\r\n            modal: {},\r\n            //接收外層的資料\r\n            tempProduct: {},\r\n        };\r\n    },\r\n    methods: {\r\n        uploadFile() {\r\n            //從console.dir(uploadedFile);找到files屬性 確認為陣列第0個資料\r\n            const uploadedFile = this.$refs.fileInput.files[0];\r\n            //確認資料是否有取得\r\n            // console.dir(uploadedFile);\r\n            \r\n            //轉為fromData的格式\r\n            const formData = new FormData();\r\n            //file-to-upload表單內容\r\n            formData.append('file-to-upload',uploadedFile);\r\n\r\n            const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`;\r\n            \r\n            this.$http.post(url, formData).then((response) => {\r\n                //確認資料上傳的結果\r\n                // console.log(response.data);\r\n                //若成功將資料存進tempProduct\r\n                if (response.data.success) {\r\n                    this.tempProduct.imageUrl = response.data.imageUrl;\r\n                }\r\n            });\r\n        },\r\n    },\r\n    mounted() {\r\n        // var myModal = new bootstrap.Modal(document.getElementById('myModal'), options)\r\n        this.modal = new Modal(this.$refs.modal);\r\n        // this.modal.show();\r\n    },\r\n\r\n}\r\n</script>","import { render } from \"./ProductModal.vue?vue&type=template&id=7649e610\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Yuan\\\\Desktop\\\\Vue\\\\record\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Products.vue?vue&type=template&id=7daa0988\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Yuan\\\\Desktop\\\\Vue\\\\record\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","disabled","$props","current_page","onClick","$options","_Fragment","_renderList","total_pages","page","key","active","href","_hoisted_3","props","pages","type","Object","default","has_pre","has_next","watch","methods","updatePage","this","$emit","__exports__","render","width","_createVNode","_component_loading","$data","item","id","_toDisplayString","category","title","origin_price","price","is_enabled","_hoisted_9","_hoisted_10","_component_Pagination","onEmitPages","_component_ProductModal","ref","product","onUpdateProduct","_component_DelModal","onDelItem","tabindex","role","for","_hoisted_4","placeholder","imageUrl","$event","_hoisted_11","onChange","_hoisted_12","_hoisted_16","_hoisted_19","_hoisted_21","unit","_hoisted_24","_hoisted_26","_hoisted_27","_hoisted_29","description","_hoisted_31","content","_hoisted_34","_hoisted_36","_ctx","mixins","modalMixin","tempProduct","data","modal","uploadFile","uploadedFile","$refs","fileInput","files","formData","FormData","append","url","$http","post","then","response","success","mounted","Modal","products","pagination","isNew","isLoading","components","ProductModal","DelModal","Pagination","inject","currency","getProducts","api","get","res","openModal","productComponent","productModal","showModal","updateProduct","httpMethod","hideModal","$httpMessageState","openDelProductModal","delComponent","delModal","delProduct","ture","delete","created"],"sourceRoot":""}