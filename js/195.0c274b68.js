"use strict";(self["webpackChunkrecord"]=self["webpackChunkrecord"]||[]).push([[195],{1195:function(t,a,s){s.r(a),s.d(a,{default:function(){return kt}});var e=s(3396),l=s(7139),i=s(9242);const d=t=>((0,e.dD)("data-v-3bd0f501"),t=t(),(0,e.Cn)(),t),c=d((()=>(0,e._)("div",{class:"box"},null,-1))),o={class:"container-fluid h100"},n=(0,e.uE)('<div class="checkCart pt-5" data-v-3bd0f501><div class="stepAct border" data-v-3bd0f501><i class="bi bi-bag-check" data-v-3bd0f501></i><span class="border-top" data-v-3bd0f501>確認清單</span></div><i class="bi bi-caret-right-fill" data-v-3bd0f501></i><div class="step border border-secondary" data-v-3bd0f501><i class="bi bi-card-list" data-v-3bd0f501></i><span class="border-top" data-v-3bd0f501>填寫資料</span></div><i class="bi bi-caret-right" data-v-3bd0f501></i><div class="step border border-secondary" data-v-3bd0f501><i class="bi bi-credit-card" data-v-3bd0f501></i><span class="border-top" data-v-3bd0f501>確認付款</span></div></div>',1),r={class:"pt-5"},u={key:0,class:"row"},b={class:"col-12 col-lg-8 mb-4"},p={class:"border"},h={key:0,class:"container-fluid mt-4"},_={class:"table table-hover align-middle align-middle"},m=d((()=>(0,e._)("thead",null,[(0,e._)("tr",{class:"align-middle text-sm text-gray-400"},[(0,e._)("th",{scope:"col"},"品項"),(0,e._)("th",{scope:"col",class:"d-none d-md-table-cell",width:"24%"},"數量"),(0,e._)("th",{scope:"col",class:"d-none d-md-table-cell text-center"},"總計"),(0,e._)("th",{scope:"col",class:"d-none d-md-table-cell text-center"},"刪除")])],-1))),g={class:"d-flex align-items-center flex-column flex-sm-row"},y={class:"d-md-none p-2"},v=["disabled","onClick"],f=d((()=>(0,e._)("i",{class:"bi bi-x-circle h4"},null,-1))),k=[f],C=["src"],x={class:"ms-3 text-start py-4"},w={class:"h5"},$={key:0,class:"h5"},q={class:"text-decoration-line-through text-muted h6"},D=d((()=>(0,e._)("br",null,null,-1))),I={key:1,class:"h5"},N={class:"d-md-none"},z={class:"input-group"},T=["onClick","disabled"],L=d((()=>(0,e._)("i",{class:"bi bi-dash"},null,-1))),U=[L],S=["onUpdate:modelValue"],V=["onClick","disabled"],M=d((()=>(0,e._)("i",{class:"bi bi-plus"},null,-1))),H=[M],Y={class:"d-none d-md-table-cell text-end align-middle"},j={class:"input-group"},A=["onClick","disabled"],E=d((()=>(0,e._)("i",{class:"bi bi-dash"},null,-1))),K=[E],Z=["onUpdate:modelValue"],B=["onClick","disabled"],F=d((()=>(0,e._)("i",{class:"bi bi-plus"},null,-1))),G=[F],J={class:"d-none d-md-table-cell text-end h5 py-5"},O={class:"d-none d-md-table-cell text-end"},P=["disabled","onClick"],Q=d((()=>(0,e._)("i",{class:"bi bi-x-circle h4"},null,-1))),R=[Q],W={key:1,class:"container-fluid mt-4"},X=d((()=>(0,e._)("div",{class:"text-center"},[(0,e._)("i",{class:"bi bi-cart4 display-1 fw-bold text-dark"}),(0,e._)("h3",{class:"p-3"},"目前購物車還沒有商品唷"),(0,e._)("a",{href:"#/product",class:"btn btn-dark btn-lg mb-5"},"Shop Now")],-1))),tt=[X],at={class:"col-12 col-lg-4 mb-4"},st={class:"border p-6"},et={class:""},lt=d((()=>(0,e._)("span",{class:"text-sm text-gray-400 mr-4"},"商品總計",-1))),it={class:"fs-4"},dt=d((()=>(0,e._)("div",{class:"py-4"},[(0,e._)("span",{class:"text-sm text-gray-400 mr-4"},"運費"),(0,e._)("span",{class:"fs-4"},"NT$0")],-1))),ct={class:"border-top py-4"},ot=d((()=>(0,e._)("span",{class:"text-sm text-gray-400 mr-4"},null,-1))),nt={class:"input-group mb-3"},rt=d((()=>(0,e._)("div",{class:"border-top py-4"},[(0,e._)("span",{class:"text-sm text-gray-400 mr-4"},"總金額")],-1))),ut={key:0},bt={class:"fs-2 fw-bolder"},pt={key:1},ht={class:"text-decoration-line-through text-muted fs-5"},_t={class:"fs-2 fw-bolder"},mt=["disabled"];function gt(t,a,s,d,f,L){return(0,e.wg)(),(0,e.iD)(e.HY,null,[c,(0,e._)("div",o,[n,(0,e._)("div",r,[f.cart.carts?((0,e.wg)(),(0,e.iD)("div",u,[(0,e._)("div",b,[(0,e._)("div",p,[f.cart.carts.length?((0,e.wg)(),(0,e.iD)("div",h,[(0,e._)("table",_,[m,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(f.cart.carts,(a=>((0,e.wg)(),(0,e.iD)("tr",{key:a.id},[(0,e._)("td",g,[(0,e._)("div",y,[(0,e._)("button",{type:"button",class:"btn d-md-block mx-auto btnClose",disabled:f.status.loadingItem===a.id,onClick:t=>L.removeCartItem(a.id)},k,8,v)]),(0,e._)("img",{class:"productImg",src:a.product.imageUrl,alt:""},null,8,C),(0,e._)("div",x,[(0,e._)("div",w,(0,l.zw)(a.product.title),1),a.product.origin_price!=a.product.price?((0,e.wg)(),(0,e.iD)("div",$,[(0,e._)("span",q,"NT$"+(0,l.zw)(t.$filters.currency(a.product.origin_price)),1),D,(0,e.Uk)("NT$"+(0,l.zw)(t.$filters.currency(a.product.price)),1)])):(0,e.kq)("",!0),a.product.origin_price==a.product.price?((0,e.wg)(),(0,e.iD)("div",I," NT$"+(0,l.zw)(t.$filters.currency(a.product.price)),1)):(0,e.kq)("",!0),(0,e._)("div",N,[(0,e._)("div",z,[(0,e._)("button",{type:"button",class:"btn btn-outline-dark",onClick:t=>L.updateCart(a,a.qty-1),disabled:1==a.qty},U,8,T),(0,e.wy)((0,e._)("input",{type:"number",min:"1","onUpdate:modelValue":t=>a.qty=t,class:"form-control form-control-sm text-center border-dark bg-transparent",readonly:""},null,8,S),[[i.nr,a.qty,void 0,{number:!0}]]),(0,e._)("button",{type:"button",class:"btn btn-outline-dark",onClick:t=>L.updateCart(a,a.qty+1),disabled:10==a.qty},H,8,V)])])])]),(0,e._)("td",Y,[(0,e._)("div",j,[(0,e._)("button",{type:"button",class:"btn btn-outline-dark",onClick:t=>L.updateCart(a,a.qty-1),disabled:1==a.qty},K,8,A),(0,e.wy)((0,e._)("input",{type:"number",min:"1","onUpdate:modelValue":t=>a.qty=t,class:"form-control form-control-sm text-center border-dark bg-transparent",readonly:""},null,8,Z),[[i.nr,a.qty,void 0,{number:!0}]]),(0,e._)("button",{type:"button",class:"btn btn-outline-dark",onClick:t=>L.updateCart(a,a.qty+1),disabled:10==a.qty},G,8,B)])]),(0,e._)("td",J,"NT$"+(0,l.zw)(t.$filters.currency(a.total)),1),(0,e._)("td",O,[(0,e._)("button",{type:"button",class:"btn d-md-block mx-auto btnClose",disabled:f.status.loadingItem===a.id,onClick:t=>L.removeCartItem(a.id)},R,8,P)])])))),128))])])])):((0,e.wg)(),(0,e.iD)("div",W,tt))])]),(0,e._)("div",at,[(0,e._)("div",st,[(0,e._)("div",et,[lt,(0,e._)("span",it,"NT$"+(0,l.zw)(t.$filters.currency(f.cart.total)),1)]),dt,(0,e._)("div",ct,[ot,(0,e._)("div",nt,[(0,e.wy)((0,e._)("input",{type:"text",class:"form-control",placeholder:"請輸入優惠碼","onUpdate:modelValue":a[0]||(a[0]=t=>f.coupon_code=t)},null,512),[[i.nr,f.coupon_code]]),(0,e._)("button",{class:"btn btn-outline-secondary",type:"button",onClick:a[1]||(a[1]=(...t)=>L.addCouponCode&&L.addCouponCode(...t))},"套用優惠碼")])]),rt,f.cart.final_total==f.cart.total?((0,e.wg)(),(0,e.iD)("div",ut,[(0,e._)("p",bt,"NT$"+(0,l.zw)(t.$filters.currency(f.cart.total)),1)])):(0,e.kq)("",!0),f.cart.final_total!==f.cart.total?((0,e.wg)(),(0,e.iD)("div",pt,[(0,e._)("span",ht,"NT$"+(0,l.zw)(t.$filters.currency(f.cart.total)),1),(0,e._)("p",_t,"NT$"+(0,l.zw)(t.$filters.currency(f.cart.final_total)),1)])):(0,e.kq)("",!0),(0,e._)("button",{type:"button",class:"btn btn-dark w-100",onClick:a[2]||(a[2]=(...t)=>L.gotocheckinfo&&L.gotocheckinfo(...t)),disabled:!f.cart.carts.length}," 填寫資料 ",8,mt)])])])):(0,e.kq)("",!0)])])],64)}var yt={data(){return{isLoading:!1,cart:{},status:{loadingItem:""},coupon_code:""}},inject:["$httpMessageState","emitter"],methods:{getCart(){const t="https://vue3-course-api.hexschool.io/api/yuanyuan1103/cart";this.isLoading=!0,this.$http.get(t).then((t=>{this.cart=t.data.data,this.isLoading=!1}))},removeCartItem(t){const a=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/cart/${t}`;this.isLoading=!0,this.$http.delete(a).then((a=>{this.$httpMessageState(a,"移除購物車品項"),this.status.loadingItem="",this.emitter.emit("update-cart",t),this.getCart(),this.isLoading=!1}))},addCouponCode(){const t="https://vue3-course-api.hexschool.io/api/yuanyuan1103/coupon",a={code:this.coupon_code};this.isLoading=!0,this.$http.post(t,{data:a}).then((t=>{this.$httpMessageState(t,"加入優惠券"),this.getCart(),this.isLoading=!1}))},updateCart(t,a){const s=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/cart/${t.id}`;this.isLoading=!0,this.status.loadingItem=t.id;const e={product_id:t.product_id,qty:a};this.$http.put(s,{data:e}).then((t=>{this.$httpMessageState(t,"更新購物車"),this.status.loadingItem="",this.getCart()}))},gotocheckinfo(){this.$router.push("/checkinfo")}},created(){this.getCart()}},vt=s(89);const ft=(0,vt.Z)(yt,[["render",gt],["__scopeId","data-v-3bd0f501"]]);var kt=ft}}]);
//# sourceMappingURL=195.0c274b68.js.map