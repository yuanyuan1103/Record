"use strict";(self["webpackChunkrecord"]=self["webpackChunkrecord"]||[]).push([[226],{7226:function(t,e,s){s.r(e),s.d(e,{default:function(){return st}});var r=s(3396),a=s(7139),d=s(9242);const i=t=>((0,r.dD)("data-v-e7724dd8"),t=t(),(0,r.Cn)(),t),l=i((()=>(0,r._)("div",{class:"position-relative"},[(0,r._)("div",{style:{overflow:"hidden"}},[(0,r._)("div",{class:"orderBanner"})]),(0,r._)("h2",{class:"position-absolute text-hv-center h2 fw-bold orderBanner-text"},"查看訂單狀態")],-1))),o={class:"h100 d-flex justify-content-center align-items-center"},n={key:0},c={key:0,class:"text-center"},u=i((()=>(0,r._)("i",{class:"bi bi-bag-heart display-1 fw-bold text-dark"},null,-1))),p=i((()=>(0,r._)("h3",{class:"p-3"},"請輸入正確的訂單編號或是再次逛逛商店下單",-1))),_=i((()=>(0,r._)("a",{href:"#/product",class:"btn btn-dark btn-lg mb-5"},"Shop Now",-1))),h=[u,p,_],b={key:1,class:"orderTrack container-fluid"},g={class:"pt-5"},v={class:"row"},m={class:"col-12 col-lg-7 mb-4"},w={class:"justify-content-center p-6 border"},y={class:"mb-3"},k=i((()=>(0,r._)("h3",{class:"border-bottom"},"訂單編號",-1))),f={class:"d-flex justify-content-between"},x=i((()=>(0,r._)("i",{class:"bi bi-clipboard-check"},null,-1))),$=[x],z={class:"mb-3"},D=i((()=>(0,r._)("h3",{class:"border-bottom"},"收件人信箱",-1))),L={class:"mb-3"},C=i((()=>(0,r._)("h3",{class:"border-bottom"},"收件人姓名",-1))),I={class:"mb-3"},O=i((()=>(0,r._)("h3",{class:"border-bottom"},"收件人電話",-1))),S={class:"mb-3"},M=i((()=>(0,r._)("h3",{class:"border-bottom"},"收件人地址",-1))),q={class:"mb-3"},j=i((()=>(0,r._)("h3",{class:"border-bottom"},"留言",-1))),T={class:"col-12 col-lg-5 mb-4"},N={class:"border p-6"},U={class:"table align-middle align-middle"},B=i((()=>(0,r._)("thead",null,[(0,r._)("tr",{class:"align-middle text-sm text-gray-400"},[(0,r._)("th",{scope:"col"},"品項")])],-1))),H={class:"d-flex align-items-center flex-column flex-sm-row"},Y=["src","alt","title"],K={class:"ms-3 text-start py-4"},R={class:"h5"},W=i((()=>(0,r._)("span",{class:"text-sm text-gray-400"},"下單時間:",-1))),Z={key:0},A=i((()=>(0,r._)("span",{class:"text-sm text-gray-400"},"付款時間:",-1))),E=i((()=>(0,r._)("div",{class:"py-4"},[(0,r._)("span",{class:"text-sm text-gray-400 mr-4"},"總金額")],-1))),F={class:"fs-2 fw-bolder"},G={key:1},J={key:2},P=i((()=>(0,r._)("button",{type:"button",class:"btn btn-dark w-100",disabled:""},"已付款",-1))),Q=[P];function V(t,e,s,i,u,p){const _=(0,r.up)("Loading");return(0,r.wg)(),(0,r.iD)(r.HY,null,[(0,r.Wm)(_,{active:u.isLoading},null,8,["active"]),l,(0,r._)("div",o,[u.isLoading?(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",n,[null==this.order?((0,r.wg)(),(0,r.iD)("div",c,h)):((0,r.wg)(),(0,r.iD)("div",b,[(0,r._)("div",g,[(0,r._)("div",v,[(0,r._)("div",m,[(0,r._)("div",w,[(0,r._)("div",y,[k,(0,r._)("div",f,[(0,r._)("span",null,(0,a.zw)(u.order.id),1),(0,r._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[0]||(e[0]=(0,d.iM)((t=>p.toCopy(u.order.id)),["prevent"]))},$)])]),(0,r._)("div",z,[D,(0,r._)("span",null,(0,a.zw)(u.order.user.email),1)]),(0,r._)("div",L,[C,(0,r._)("span",null,(0,a.zw)(u.order.user.name),1)]),(0,r._)("div",I,[O,(0,r._)("span",null,(0,a.zw)(u.order.user.tel),1)]),(0,r._)("div",S,[M,(0,r._)("span",null,(0,a.zw)(u.order.user.address),1)]),(0,r._)("div",q,[j,(0,r._)("span",null,(0,a.zw)(u.order.message),1)])])]),(0,r._)("div",T,[(0,r._)("div",N,[(0,r._)("table",U,[B,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(u.order.products,(e=>((0,r.wg)(),(0,r.iD)("tr",{key:e.id},[(0,r._)("td",H,[(0,r._)("img",{class:"productImg",src:e.product.imageUrl,alt:e.product.title,title:e.product.title},null,8,Y),(0,r._)("div",K,[(0,r._)("div",R,(0,a.zw)(e.product.title),1),(0,r._)("h6",null,"數量:"+(0,a.zw)(e.qty),1),(0,r._)("h6",null,"NT$"+(0,a.zw)(t.$filters.currency(e.final_total)),1)])])])))),128))])]),W,(0,r.Uk)((0,a.zw)(new Date(1e3*u.order.create_at).toLocaleString())+" ",1),u.order.is_paid?((0,r.wg)(),(0,r.iD)("div",Z,[A,(0,r.Uk)((0,a.zw)(new Date(1e3*u.order.paid_date).toLocaleString()),1)])):(0,r.kq)("",!0),E,(0,r._)("p",F,"NT$"+(0,a.zw)(t.$filters.currency(u.order.total)),1),!1===u.order.is_paid?((0,r.wg)(),(0,r.iD)("div",G,[(0,r._)("button",{type:"button",class:"btn btn-dark w-100",onClick:e[1]||(e[1]=(0,d.iM)(((...t)=>p.payOrder&&p.payOrder(...t)),["prevent"]))},"確認付款")])):(0,r.kq)("",!0),!0===u.order.is_paid?((0,r.wg)(),(0,r.iD)("div",J,Q)):(0,r.kq)("",!0)])])])])]))]))])],64)}var X={data(){return{cart:{},order:{user:{},products:{}},orderId:"",isLoading:!1,searchOrderResult:""}},inject:["$httpMessageState","emitter"],methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order,this.isLoading=!1)}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{t.data.success&&(this.$httpMessageState(t,"付款成功"),this.isLoading=!1,this.getOrder())}))},toCopy(t){navigator.clipboard.writeText(t).then((()=>{this.$httpMessageState({data:{success:!0}},"複製訂單編號")})).catch((t=>{this.$httpMessageState(t,"複製失敗")}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},tt=s(89);const et=(0,tt.Z)(X,[["render",V],["__scopeId","data-v-e7724dd8"]]);var st=et}}]);
//# sourceMappingURL=226.a91f186e.js.map