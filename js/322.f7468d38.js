"use strict";(self["webpackChunkrecord"]=self["webpackChunkrecord"]||[]).push([[322],{8322:function(a,e,s){s.r(e),s.d(e,{default:function(){return Z}});var l=s(3396),t=s(7139),r=s(9242);const c=a=>((0,l.dD)("data-v-5cca443a"),a=a(),(0,l.Cn)(),a),d=c((()=>(0,l._)("div",{class:"box"},null,-1))),i={class:"container-fluid h100"},o=(0,l.uE)('<div class="checkCart pt-5" data-v-5cca443a><div class="step border" data-v-5cca443a><i class="bi bi-bag-check" data-v-5cca443a></i><span class="border-top" data-v-5cca443a>確認清單</span></div><i class="bi bi-caret-right" data-v-5cca443a></i><div class="stepAct border border-secondary" data-v-5cca443a><i class="bi bi-card-list" data-v-5cca443a></i><span class="border-top" data-v-5cca443a>填寫資料</span></div><i class="bi bi-caret-right-fill" data-v-5cca443a></i><div class="step border border-secondary" data-v-5cca443a><i class="bi bi-credit-card" data-v-5cca443a></i><span class="border-top" data-v-5cca443a>確認付款</span></div></div>',1),n={class:"pt-5"},m={class:"row px-5"},u={class:"col-12 col-lg-7 mb-4"},p={class:"justify-content-center p-6 border"},v={class:"mb-3"},f=c((()=>(0,l._)("label",{for:"email",class:"form-label"},"Email",-1))),b={class:"mb-3"},_=c((()=>(0,l._)("label",{for:"name",class:"form-label"},"收件人姓名",-1))),h={class:"mb-3"},g=c((()=>(0,l._)("label",{for:"tel",class:"form-label"},"收件人電話",-1))),y={class:"mb-3"},w=c((()=>(0,l._)("label",{for:"address",class:"form-label"},"收件人地址",-1))),x={class:"mb-3"},k=c((()=>(0,l._)("label",{for:"message",class:"form-label"},"留言",-1))),$={class:"col-12 col-lg-5 mb-4"},V={class:"border p-6"},C={class:"table align-middle align-middle"},W=c((()=>(0,l._)("thead",null,[(0,l._)("tr",{class:"align-middle text-sm text-gray-400"},[(0,l._)("th",{scope:"col"},"品項")])],-1))),q={class:"d-flex align-items-center flex-column flex-sm-row"},z=["src"],D={class:"ms-3 text-start py-4"},N={class:"h3"},T={class:""},U={class:""},E=c((()=>(0,l._)("span",{class:"text-sm text-gray-400 mr-4"},"商品總計",-1))),I={class:"fs-4"},O=(0,l.uE)('<div class="py-4" data-v-5cca443a><span class="text-sm text-gray-400 mr-4" data-v-5cca443a>運費</span><span class="fs-4" data-v-5cca443a>NT$0</span></div><div class="border-top py-4" data-v-5cca443a><span class="text-sm text-gray-400 mr-4" data-v-5cca443a>總金額</span></div>',2),j={key:0},F={class:"fs-2 fw-bolder"},H={key:1},L={class:"text-decoration-line-through text-muted fs-5"},M={class:"fs-2 fw-bolder"};function Y(a,e,s,c,Y,A){const K=(0,l.up)("Field"),S=(0,l.up)("ErrorMessage"),Z=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)(l.HY,null,[d,(0,l._)("div",i,[o,(0,l._)("div",n,[(0,l._)("div",m,[(0,l._)("div",u,[(0,l._)("div",p,[(0,l.Wm)(Z,null,{default:(0,l.w5)((({errors:a})=>[(0,l._)("div",v,[f,(0,l.Wm)(K,{id:"email",name:"email",type:"email",class:(0,t.C_)(["form-control",{"is-invalid":a["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:Y.form.user.email,"onUpdate:modelValue":e[0]||(e[0]=a=>Y.form.user.email=a)},null,8,["class","modelValue"]),(0,l.Wm)(S,{name:"email",class:"invalid-feedback"})]),(0,l._)("div",b,[_,(0,l.Wm)(K,{id:"name",name:"姓名",type:"text",class:(0,t.C_)(["form-control",{"is-invalid":a["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:Y.form.user.name,"onUpdate:modelValue":e[1]||(e[1]=a=>Y.form.user.name=a)},null,8,["class","modelValue"]),(0,l.Wm)(S,{name:"姓名",class:"invalid-feedback"})]),(0,l._)("div",h,[g,(0,l.Wm)(K,{id:"tel",name:"電話",type:"tel",class:(0,t.C_)(["form-control",{"is-invalid":a["電話"]}]),placeholder:"請輸入電話",rules:"required",modelValue:Y.form.user.tel,"onUpdate:modelValue":e[2]||(e[2]=a=>Y.form.user.tel=a)},null,8,["class","modelValue"]),(0,l.Wm)(S,{name:"電話",class:"invalid-feedback"})]),(0,l._)("div",y,[w,(0,l.Wm)(K,{id:"address",name:"地址",type:"text",class:(0,t.C_)(["form-control",{"is-invalid":a["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:Y.form.user.address,"onUpdate:modelValue":e[3]||(e[3]=a=>Y.form.user.address=a)},null,8,["class","modelValue"]),(0,l.Wm)(S,{name:"地址",class:"invalid-feedback"})]),(0,l._)("div",x,[k,(0,l.wy)((0,l._)("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[4]||(e[4]=a=>Y.form.message=a)},null,512),[[r.nr,Y.form.message]])])])),_:1})])]),(0,l._)("div",$,[(0,l._)("div",V,[(0,l._)("table",C,[W,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(Y.cart.carts,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",q,[(0,l._)("img",{class:"productImg",src:e.product.imageUrl,alt:""},null,8,z),(0,l._)("div",D,[(0,l._)("div",N,(0,t.zw)(e.product.title),1),(0,l._)("div",T,[(0,l._)("h5",null,"數量:"+(0,t.zw)(e.qty),1),(0,l._)("h5",null,"NT$"+(0,t.zw)(a.$filters.currency(e.total)),1)])])])])))),128))])]),(0,l._)("div",U,[E,(0,l._)("span",I,"NT$"+(0,t.zw)(a.$filters.currency(Y.cart.total)),1)]),O,Y.cart.final_total==Y.cart.total?((0,l.wg)(),(0,l.iD)("div",j,[(0,l._)("p",F,"NT$"+(0,t.zw)(a.$filters.currency(Y.cart.total)),1)])):(0,l.kq)("",!0),Y.cart.final_total!==Y.cart.total?((0,l.wg)(),(0,l.iD)("div",H,[(0,l._)("span",L,"NT$"+(0,t.zw)(a.$filters.currency(Y.cart.total)),1),(0,l._)("p",M,"NT$"+(0,t.zw)(a.$filters.currency(Y.cart.final_total)),1)])):(0,l.kq)("",!0),(0,l._)("button",{type:"button",class:"btn btn-dark w-100",onClick:e[5]||(e[5]=(...a)=>A.createOrder&&A.createOrder(...a))},"送出訂單")])])])])])],64)}var A={data(){return{cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""}}},inject:["$httpMessageState","emitter"],methods:{createOrder(){const a="https://vue3-course-api.hexschool.io/api/yuanyuan1103/order",e=this.form;this.$http.post(a,{data:e}).then((a=>{this.emitter.emit("update-cart"),this.$router.push(`/checkout/${a.data.orderId}`)}))},getCart(){const a="https://vue3-course-api.hexschool.io/api/yuanyuan1103/cart";this.isLoading=!0,this.$http.get(a).then((a=>{this.cart=a.data.data,this.isLoading=!1}))}},created(){this.getCart()}},K=s(89);const S=(0,K.Z)(A,[["render",Y],["__scopeId","data-v-5cca443a"]]);var Z=S}}]);
//# sourceMappingURL=322.f7468d38.js.map