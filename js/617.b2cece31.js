"use strict";(self["webpackChunkrecord"]=self["webpackChunkrecord"]||[]).push([[617],{1617:function(s,t,e){e.r(t),e.d(t,{default:function(){return F}});var r=e(3396),a=e(7139);const d=s=>((0,r.dD)("data-v-3a66ca9a"),s=s(),(0,r.Cn)(),s),l=d((()=>(0,r._)("div",{class:"position-relative bg-cover"},[(0,r._)("div",{class:"collectbanner bg-mask-60"},[(0,r._)("h2",{class:"position-absolute text-hv-center h2 fw-bold text-white-50 pageBanner-text"},"查看訂單狀態")])],-1))),i={key:0,class:"orderTrack"},o={class:"pt-5"},c={class:"row px-5"},n={class:"col-12 col-lg-7 mb-4"},u={class:"justify-content-center p-6 border"},_={class:"mb-3"},h=d((()=>(0,r._)("h3",{class:"border-bottom"},"訂單編號",-1))),b={class:"mb-3"},p=d((()=>(0,r._)("h3",{class:"border-bottom"},"收件人信箱",-1))),g={class:"mb-3"},m=d((()=>(0,r._)("h3",{class:"border-bottom"},"收件人姓名",-1))),v={class:"mb-3"},w=d((()=>(0,r._)("h3",{class:"border-bottom"},"收件人電話",-1))),y={class:"mb-3"},f=d((()=>(0,r._)("h3",{class:"border-bottom"},"收件人地址",-1))),k={class:"mb-3"},x=d((()=>(0,r._)("h3",{class:"border-bottom"},"留言",-1))),$={class:"col-12 col-lg-5 mb-4"},z={class:"border p-6"},D={class:"table align-middle align-middle"},I=d((()=>(0,r._)("thead",null,[(0,r._)("tr",{class:"align-middle text-sm text-gray-400"},[(0,r._)("th",{scope:"col"},"品項")])],-1))),O={class:"d-flex align-items-center flex-column flex-sm-row"},L=["src"],C={class:"ms-3 text-start py-4"},j={class:"h3"},q={class:""},N=d((()=>(0,r._)("div",{class:"py-4"},[(0,r._)("span",{class:"text-sm text-gray-400 mr-4"},"總金額")],-1))),S={class:"fs-2 fw-bolder"},T={key:0},H={key:1},M=d((()=>(0,r._)("button",{type:"button",class:"btn btn-dark w-100",disabled:""},"已付款",-1))),Y=[M],B={key:1,class:"h100 d-flex justify-content-center align-items-center"},K=d((()=>(0,r._)("div",{class:"text-center"},[(0,r._)("i",{class:"bi bi-bag-heart display-1 fw-bold text-dark"}),(0,r._)("h3",{class:"p-3"},"請輸入正確的訂單編號或是再次逛逛商店下單"),(0,r._)("a",{href:"#/product",class:"btn btn-dark btn-lg mb-5"},"Shop Now")],-1))),R=[K];function U(s,t,e,d,M,K){return(0,r.wg)(),(0,r.iD)(r.HY,null,[l,this.order?((0,r.wg)(),(0,r.iD)("div",i,[(0,r._)("div",o,[(0,r._)("div",c,[(0,r._)("div",n,[(0,r._)("div",u,[(0,r._)("div",_,[h,(0,r._)("span",null,(0,a.zw)(M.order.id),1)]),(0,r._)("div",b,[p,(0,r._)("span",null,(0,a.zw)(M.order.user.email),1)]),(0,r._)("div",g,[m,(0,r._)("span",null,(0,a.zw)(M.order.user.name),1)]),(0,r._)("div",v,[w,(0,r._)("span",null,(0,a.zw)(M.order.user.tel),1)]),(0,r._)("div",y,[f,(0,r._)("span",null,(0,a.zw)(M.order.user.address),1)]),(0,r._)("div",k,[x,(0,r._)("span",null,(0,a.zw)(M.order.message),1)])])]),(0,r._)("div",$,[(0,r._)("div",z,[(0,r._)("table",D,[I,(0,r._)("tbody",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(M.order.products,(t=>((0,r.wg)(),(0,r.iD)("tr",{key:t.id},[(0,r._)("td",O,[(0,r._)("img",{class:"productImg",src:t.product.imageUrl,alt:""},null,8,L),(0,r._)("div",C,[(0,r._)("div",j,(0,a.zw)(t.title),1),(0,r._)("div",q,[(0,r._)("h5",null,"數量:"+(0,a.zw)(t.qty),1),(0,r._)("h5",null,"NT$"+(0,a.zw)(s.$filters.currency(t.final_total)),1)])])])])))),128))])]),N,(0,r._)("p",S,"NT$"+(0,a.zw)(s.$filters.currency(M.order.total)),1),!1===M.order.is_paid?((0,r.wg)(),(0,r.iD)("div",T,[(0,r._)("button",{type:"button",class:"btn btn-dark w-100",onClick:t[0]||(t[0]=(...s)=>K.payOrder&&K.payOrder(...s))},"確認付款")])):(0,r.kq)("",!0),!0===M.order.is_paid?((0,r.wg)(),(0,r.iD)("div",H,Y)):(0,r.kq)("",!0)])])])])])):((0,r.wg)(),(0,r.iD)("div",B,R))],64)}var Z={data(){return{cart:{},order:{user:{},products:{}},orderId:"",isLoading:!1,searchOrderResult:""}},inject:["$httpMessageState","emitter"],methods:{getOrder(){const s=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/order/${this.orderId}`;this.isLoading=!0,this.$http.get(s).then((s=>{s.data.success&&(this.order=s.data.order,this.isLoading=!1)}))},payOrder(){const s=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(s).then((s=>{s.data.success&&(this.$httpMessageState(s,"付款成功"),this.isLoading=!1,this.getOrder())}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},A=e(89);const E=(0,A.Z)(Z,[["render",U],["__scopeId","data-v-3a66ca9a"]]);var F=E}}]);
//# sourceMappingURL=617.b2cece31.js.map