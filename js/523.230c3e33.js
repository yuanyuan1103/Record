"use strict";(self["webpackChunkrecord"]=self["webpackChunkrecord"]||[]).push([[523],{5523:function(t,e,s){s.r(e),s.d(e,{default:function(){return et}});var a=s(3396),r=s(7139);const i=t=>((0,a.dD)("data-v-4ca24878"),t=t(),(0,a.Cn)(),t),d=i((()=>(0,a._)("div",{class:"position-relative"},[(0,a._)("div",{style:{overflow:"hidden"}},[(0,a._)("div",{class:"orderBanner"})]),(0,a._)("h2",{class:"position-absolute h2 fw-bold orderBanner-text"},"查看訂單狀態")],-1))),l={class:"container"},o={class:"h100"},c={key:0},n={key:0,class:"text-center"},u=i((()=>(0,a._)("i",{class:"bi bi-bag-heart display-1 fw-bold text-dark"},null,-1))),p=i((()=>(0,a._)("h3",{class:"p-3"},"請輸入正確的訂單編號或是再次逛逛商店下單",-1))),h=(0,a.Uk)("Shop Now"),_={key:1},b={class:"container pt-5"},g={class:"row"},v={class:"col-12 col-lg-7 mb-4"},m={class:"justify-content-center p-6 border"},w={class:"mb-3"},y=i((()=>(0,a._)("h3",{class:"border-bottom"},"訂單編號",-1))),k={class:"d-flex justify-content-between"},f=i((()=>(0,a._)("i",{class:"bi bi-clipboard-check"},null,-1))),x=[f],$={class:"mb-3"},z=i((()=>(0,a._)("h3",{class:"border-bottom"},"收件人信箱",-1))),D={class:"mb-3"},L=i((()=>(0,a._)("h3",{class:"border-bottom"},"收件人姓名",-1))),S={class:"mb-3"},C=i((()=>(0,a._)("h3",{class:"border-bottom"},"收件人電話",-1))),I={class:"mb-3"},O=i((()=>(0,a._)("h3",{class:"border-bottom"},"收件人地址",-1))),M={class:"mb-3"},U=i((()=>(0,a._)("h3",{class:"border-bottom"},"留言",-1))),j={class:"col-12 col-lg-5 mb-4"},q={class:"border p-6"},N={class:"table align-middle align-middle"},T=i((()=>(0,a._)("thead",null,[(0,a._)("tr",{class:"align-middle text-sm text-gray-400"},[(0,a._)("th",{scope:"col"},"品項")])],-1))),B={class:"d-flex align-items-center flex-column flex-sm-row"},H=["src","alt","title"],W={class:"text-start py-4"},Y={class:"h5"},K=i((()=>(0,a._)("span",{class:"text-sm text-gray-400"},"下單時間:",-1))),R={key:0},Z=i((()=>(0,a._)("span",{class:"text-sm text-gray-400"},"付款時間:",-1))),A=i((()=>(0,a._)("div",{class:"py-4"},[(0,a._)("span",{class:"text-sm text-gray-400 mr-4"},"總金額")],-1))),E={class:"fs-2 fw-bolder"},F={key:1},G={key:2},J=i((()=>(0,a._)("button",{type:"button",class:"btn btn-dark w-100",disabled:""},"已付款",-1))),P=[J];function Q(t,e,s,i,f,J){const Q=(0,a.up)("Loading"),V=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(Q,{active:f.isLoading},null,8,["active"]),d,(0,a._)("div",l,[(0,a._)("div",o,[f.isLoading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",c,[null==this.order?((0,a.wg)(),(0,a.iD)("div",n,[u,p,(0,a.Wm)(V,{to:"/product",class:"btn btn-dark btn-lg mb-5"},{default:(0,a.w5)((()=>[h])),_:1})])):((0,a.wg)(),(0,a.iD)("div",_,[(0,a._)("div",b,[(0,a._)("div",g,[(0,a._)("div",v,[(0,a._)("div",m,[(0,a._)("div",w,[y,(0,a._)("div",k,[(0,a._)("span",null,(0,r.zw)(f.order.id),1),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:e[0]||(e[0]=t=>J.toCopy(f.order.id))},x)])]),(0,a._)("div",$,[z,(0,a._)("span",null,(0,r.zw)(f.order.user.email),1)]),(0,a._)("div",D,[L,(0,a._)("span",null,(0,r.zw)(f.order.user.name),1)]),(0,a._)("div",S,[C,(0,a._)("span",null,(0,r.zw)(f.order.user.tel),1)]),(0,a._)("div",I,[O,(0,a._)("span",null,(0,r.zw)(f.order.user.address),1)]),(0,a._)("div",M,[U,(0,a._)("span",null,(0,r.zw)(f.order.message),1)])])]),(0,a._)("div",j,[(0,a._)("div",q,[(0,a._)("table",N,[T,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(f.order.products,(e=>((0,a.wg)(),(0,a.iD)("tr",{key:e.id},[(0,a._)("td",B,[(0,a._)("img",{class:"productImg",src:e.product.imageUrl,alt:e.product.title,title:e.product.title},null,8,H),(0,a._)("div",W,[(0,a._)("div",Y,(0,r.zw)(e.product.title),1),(0,a._)("h6",null,"數量:"+(0,r.zw)(e.qty),1),(0,a._)("h6",null,"NT$"+(0,r.zw)(t.$filters.currency(e.final_total)),1)])])])))),128))])]),K,(0,a.Uk)((0,r.zw)(new Date(1e3*f.order.create_at).toLocaleString())+" ",1),f.order.is_paid?((0,a.wg)(),(0,a.iD)("div",R,[Z,(0,a.Uk)((0,r.zw)(new Date(1e3*f.order.paid_date).toLocaleString()),1)])):(0,a.kq)("",!0),A,(0,a._)("p",E,"NT$"+(0,r.zw)(t.$filters.currency(f.order.total)),1),!1===f.order.is_paid?((0,a.wg)(),(0,a.iD)("div",F,[(0,a._)("button",{type:"button",class:"btn btn-dark w-100",onClick:e[1]||(e[1]=(...t)=>J.payOrder&&J.payOrder(...t))},"確認付款")])):((0,a.wg)(),(0,a.iD)("div",G,P))])])])])]))]))])])],64)}var V={data(){return{cart:{},order:{user:{},products:{}},orderId:"",isLoading:!1,searchOrderResult:""}},inject:["$httpMessageState","emitter"],methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.order=t.data.order,this.isLoading=!1})).catch((t=>{this.$httpMessageState(t,"取得訂單失敗")}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{this.$httpMessageState(t,"付款成功"),this.isLoading=!1,this.getOrder()})).catch((t=>{this.$httpMessageState(t,"付款失敗")}))},toCopy(t){navigator.clipboard.writeText(t).then((()=>{this.$httpMessageState({data:{success:!0}},"複製訂單編號")})).catch((t=>{this.$httpMessageState(t,"複製失敗")}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},X=s(89);const tt=(0,X.Z)(V,[["render",Q],["__scopeId","data-v-4ca24878"]]);var et=tt}}]);
//# sourceMappingURL=523.230c3e33.js.map