"use strict";(self["webpackChunkrecord"]=self["webpackChunkrecord"]||[]).push([[46],{46:function(t,s,a){a.r(s),a.d(s,{default:function(){return tt}});var e=a(3396),r=a(7139);const i=t=>((0,e.dD)("data-v-2ea8559f"),t=t(),(0,e.Cn)(),t),d=i((()=>(0,e._)("div",{class:"box"},null,-1))),l={class:"container h100"},o=(0,e.uE)('<div class="checkCart pt-5" data-v-2ea8559f><div class="step border" data-v-2ea8559f><i class="bi bi-bag-check" data-v-2ea8559f></i><span class="border-top" data-v-2ea8559f>確認清單</span></div><i class="bi bi-caret-right" data-v-2ea8559f></i><div class="step border" data-v-2ea8559f><i class="bi bi-card-list" data-v-2ea8559f></i><span class="border-top" data-v-2ea8559f>填寫資料</span></div><i class="bi bi-caret-right" data-v-2ea8559f></i><div class="stepAct border border-secondary" data-v-2ea8559f><i class="bi bi-credit-card" data-v-2ea8559f></i><span class="border-top" data-v-2ea8559f>確認付款</span></div></div>',1),c={key:0},n={key:0,class:"paySuccess pt-5"},p=i((()=>(0,e._)("i",{class:"bi bi-check-circle-fill display-1 fw-bold text-dark"},null,-1))),b=i((()=>(0,e._)("h3",{class:"p-3"},"感謝您的訂購，現貨商品將於1-2天內為您寄出。請留意時間。",-1))),u=(0,e.Uk)("繼續購物"),_={class:"pt-5"},h={class:"row"},v={class:"col-12 col-lg-7 mb-4"},g={class:"justify-content-center p-6 border"},m={class:"mb-3"},y=i((()=>(0,e._)("h3",{class:"border-bottom"},"訂單編號",-1))),f={class:"d-flex justify-content-between"},w=i((()=>(0,e._)("i",{class:"bi bi-clipboard-check"},null,-1))),k=[w],x={class:"mb-3"},$=i((()=>(0,e._)("h3",{class:"border-bottom"},"收件人信箱",-1))),z={class:"mb-3"},D=i((()=>(0,e._)("h3",{class:"border-bottom"},"收件人姓名",-1))),L={class:"mb-3"},C=i((()=>(0,e._)("h3",{class:"border-bottom"},"收件人電話",-1))),I={class:"mb-3"},S=i((()=>(0,e._)("h3",{class:"border-bottom"},"收件人地址",-1))),O={class:"mb-3"},q=i((()=>(0,e._)("h3",{class:"border-bottom"},"留言",-1))),M={class:"col-12 col-lg-5 mb-4"},U={class:"border p-6"},j={class:"table align-middle align-middle"},T=i((()=>(0,e._)("thead",null,[(0,e._)("tr",{class:"align-middle text-sm text-gray-400"},[(0,e._)("th",{scope:"col"},"品項")])],-1))),H={class:"d-flex align-items-center flex-column flex-sm-row"},N=["src","alt","title"],W={class:"text-start py-4"},Y={class:"h5"},A=i((()=>(0,e._)("span",{class:"text-sm text-gray-400"},"下單時間:",-1))),E={key:0},K=i((()=>(0,e._)("span",{class:"text-sm text-gray-400"},"付款時間:",-1))),Z=i((()=>(0,e._)("div",{class:"py-4"},[(0,e._)("span",{class:"text-sm text-gray-400 mr-4"},"總金額")],-1))),B={class:"fs-2 fw-bolder"},F={key:1},G={key:2},J=i((()=>(0,e._)("button",{type:"button",class:"btn btn-dark w-100",disabled:""},"已付款",-1))),P=[J];function Q(t,s,a,i,w,J){const Q=(0,e.up)("Loading"),R=(0,e.up)("router-link");return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(Q,{active:w.isLoading},null,8,["active"]),d,(0,e._)("div",l,[o,w.isLoading?(0,e.kq)("",!0):((0,e.wg)(),(0,e.iD)("div",c,[w.order.is_paid?((0,e.wg)(),(0,e.iD)("div",n,[p,b,(0,e.Wm)(R,{to:"/product",class:"btn btn-outline-dark btn-lg mb-5 rotate"},{default:(0,e.w5)((()=>[u])),_:1})])):(0,e.kq)("",!0),(0,e._)("div",_,[(0,e._)("div",h,[(0,e._)("div",v,[(0,e._)("div",g,[(0,e._)("div",m,[y,(0,e._)("div",f,[(0,e._)("span",null,(0,r.zw)(w.order.id),1),(0,e._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[0]||(s[0]=t=>J.toCopy(w.order.id))},k)])]),(0,e._)("div",x,[$,(0,e._)("span",null,(0,r.zw)(w.order.user.email),1)]),(0,e._)("div",z,[D,(0,e._)("span",null,(0,r.zw)(w.order.user.name),1)]),(0,e._)("div",L,[C,(0,e._)("span",null,(0,r.zw)(w.order.user.tel),1)]),(0,e._)("div",I,[S,(0,e._)("span",null,(0,r.zw)(w.order.user.address),1)]),(0,e._)("div",O,[q,(0,e._)("span",null,(0,r.zw)(w.order.message),1)])])]),(0,e._)("div",M,[(0,e._)("div",U,[(0,e._)("table",j,[T,(0,e._)("tbody",null,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(w.order.products,(s=>((0,e.wg)(),(0,e.iD)("tr",{key:s.id},[(0,e._)("td",H,[(0,e._)("img",{class:"productImg",src:s.product.imageUrl,alt:s.product.title,title:s.product.title},null,8,N),(0,e._)("div",W,[(0,e._)("div",Y,(0,r.zw)(s.product.title),1),(0,e._)("h6",null,"數量:"+(0,r.zw)(s.qty),1),(0,e._)("h6",null,"NT$"+(0,r.zw)(t.$filters.currency(s.final_total)),1)])])])))),128))])]),A,(0,e.Uk)((0,r.zw)(new Date(1e3*w.order.create_at).toLocaleString())+" ",1),w.order.is_paid?((0,e.wg)(),(0,e.iD)("div",E,[K,(0,e.Uk)((0,r.zw)(new Date(1e3*w.order.paid_date).toLocaleString()),1)])):(0,e.kq)("",!0),Z,(0,e._)("p",B,"NT$"+(0,r.zw)(t.$filters.currency(w.order.total)),1),!1===w.order.is_paid?((0,e.wg)(),(0,e.iD)("div",F,[(0,e._)("button",{type:"button",class:"btn btn-dark w-100",onClick:s[1]||(s[1]=(...t)=>J.payOrder&&J.payOrder(...t))},"確認付款")])):((0,e.wg)(),(0,e.iD)("div",G,P))])])])])]))])],64)}var R={data(){return{cart:{},order:{user:{},products:{}},orderId:"",isLoading:!1}},inject:["$httpMessageState","emitter"],methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{this.order=t.data.order,this.isLoading=!1}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{this.$httpMessageState(t,"付款成功"),this.isLoading=!1,this.getOrder()}))},toCopy(t){navigator.clipboard.writeText(t).then((()=>{this.$httpMessageState({data:{success:!0}},"複製訂單編號")})).catch((t=>{this.$httpMessageState(t,"複製失敗")}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},V=a(89);const X=(0,V.Z)(R,[["render",Q],["__scopeId","data-v-2ea8559f"]]);var tt=X}}]);
//# sourceMappingURL=46.e5d6e0b8.js.map