{"version":3,"file":"js/791.7d6607dd.js","mappings":"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","sources":["webpack://record/./src/views/UserOrder.vue","webpack://record/./src/views/UserOrder.vue?85b7"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"position-relative\">\n    <div style=\"overflow: hidden\">\n      <div class=\"orderBanner\"></div>\n    </div>\n    <h2 class=\"position-absolute text-hv-center h2 fw-bold orderBanner-text\">查看訂單狀態</h2>\n  </div>\n  <div class=\"h100 d-flex justify-content-center align-items-center\">\n    <div v-if=\"!isLoading\">\n      <div class=\"text-center\" v-if=\"this.order == null\">\n        <i class=\"bi bi-bag-heart display-1 fw-bold text-dark\"></i>\n        <h3 class=\"p-3\">請輸入正確的訂單編號或是再次逛逛商店下單</h3>\n        <a href=\"#/product\" class=\"btn btn-dark btn-lg mb-5\">Shop Now</a>\n      </div>\n      <div class=\"orderTrack container-fluid\" v-else>\n        <div class=\"pt-5\">\n          <div class=\"row\">\n            <div class=\"col-12 col-lg-7 mb-4\">\n              <div class=\"justify-content-center p-6 border\">\n                <div class=\"mb-3\">\n                  <h3 class=\"border-bottom\">訂單編號</h3>\n                  <div class=\"d-flex justify-content-between\">\n                    <span>{{ order.id }}</span>\n                    <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"toCopy(order.id)\">\n                      <i class=\"bi bi-clipboard-check\"></i>\n                    </button>\n                  </div>\n                </div>\n                <div class=\"mb-3\">\n                  <h3 class=\"border-bottom\">收件人信箱</h3>\n                  <span>{{ order.user.email }}</span>\n                </div>\n                <div class=\"mb-3\">\n                  <h3 class=\"border-bottom\">收件人姓名</h3>\n                  <span>{{ order.user.name }}</span>\n                </div>\n                <div class=\"mb-3\">\n                  <h3 class=\"border-bottom\">收件人電話</h3>\n                  <span>{{ order.user.tel }}</span>\n                </div>\n                <div class=\"mb-3\">\n                  <h3 class=\"border-bottom\">收件人地址</h3>\n                  <span>{{ order.user.address }}</span>\n                </div>\n                <div class=\"mb-3\">\n                  <h3 class=\"border-bottom\">留言</h3>\n                  <span>{{ order.message }}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-12 col-lg-5 mb-4\">\n              <div class=\"border p-6\">\n                <table class=\"table align-middle align-middle\">\n                  <thead>\n                    <tr class=\"align-middle text-sm text-gray-400\">\n                      <th scope=\"col\">品項</th>\n                    </tr>\n                  </thead>\n                  <tbody>\n                    <tr v-for=\"item in order.products\" :key=\"item.id\">\n                      <td class=\"d-flex align-items-center flex-column flex-sm-row\">\n                        <img class=\"productImg\" :src=\"item.product.imageUrl\" alt=\"\" />\n                        <div class=\"ms-3 text-start py-4\">\n                          <div class=\"h5\">{{ item.product.title }}</div>\n                          <h6>數量:{{ item.qty }}</h6>\n                          <h6>NT${{ $filters.currency(item.final_total) }}</h6>\n                        </div>\n                      </td>\n                    </tr>\n                  </tbody>\n                </table>\n                <span class=\"text-sm text-gray-400\">下單時間:</span\n                >{{ new Date(order.create_at * 1000).toLocaleString() }}\n                <div v-if=\"order.is_paid\">\n                  <span class=\"text-sm text-gray-400\">付款時間:</span\n                  >{{ new Date(order.paid_date * 1000).toLocaleString() }}\n                </div>\n                <div class=\"py-4\">\n                  <span class=\"text-sm text-gray-400 mr-4\">總金額</span>\n                </div>\n                <p class=\"fs-2 fw-bolder\">NT${{ $filters.currency(order.total) }}</p>\n                <div v-if=\"order.is_paid === false\">\n                  <button type=\"button\" class=\"btn btn-dark w-100\" @click=\"payOrder\">確認付款</button>\n                </div>\n                <div v-if=\"order.is_paid === true\">\n                  <button type=\"button\" class=\"btn btn-dark w-100\" disabled>已付款</button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style src=\"../assets/helpers/_UserOrder.css\" scoped></style>\n<script>\nexport default {\n  data() {\n    return {\n      cart: {},\n      order: {\n        user: {},\n        products: {}\n      },\n      orderId: '',\n      isLoading: false,\n      searchOrderResult: ''\n    };\n  },\n  inject: ['$httpMessageState', 'emitter'],\n  methods: {\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`;\n      this.isLoading = true;\n      this.$http.get(url).then((res) => {\n        if (res.data.success) {\n          this.order = res.data.order;\n          this.isLoading = false;\n        }\n      });\n    },\n    payOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`;\n      this.isLoading = true;\n      this.$http.post(url).then((res) => {\n        if (res.data.success) {\n          this.$httpMessageState(res, '付款成功');\n          this.isLoading = false;\n          this.getOrder();\n        }\n      });\n    },\n    toCopy(orderId) {\n      var oInput = document.createElement('input');\n      oInput.value = orderId; //賦值\n      document.body.appendChild(oInput);\n      oInput.select(); // 選擇物件\n      document.execCommand('Copy'); // 執行瀏覽器複製命令\n      oInput.className = 'oInput';\n      oInput.style.display = 'none';\n      this.$httpMessageState(\n        {\n          data: {\n            success: true\n          }\n        },\n        '複製訂單編號'\n      );\n    }\n  },\n  created() {\n    //取得路由id\n    this.orderId = this.$route.params.orderId;\n    //透過getOrder取得對應的訂單資料\n    this.getOrder();\n  }\n};\n</script>\n","import { render } from \"./UserOrder.vue?vue&type=template&id=5678f09a&scoped=true\"\nimport script from \"./UserOrder.vue?vue&type=script&lang=js\"\nexport * from \"./UserOrder.vue?vue&type=script&lang=js\"\n\nimport \"../assets/helpers/_UserOrder.css?vue&type=style&index=0&id=5678f09a&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Yuan\\\\Desktop\\\\Vue\\\\record\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-5678f09a\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","style","href","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_17","scope","type","disabled","_hoisted_44","_createVNode","_component_Loading","active","$data","_hoisted_1","_createElementBlock","_hoisted_3","order","_hoisted_8","_hoisted_15","_toDisplayString","id","onClick","$options","_hoisted_20","user","email","_hoisted_22","name","_hoisted_24","tel","_hoisted_26","address","_hoisted_28","message","_hoisted_32","_Fragment","_renderList","products","item","key","src","product","imageUrl","alt","title","qty","_ctx","currency","final_total","_hoisted_37","Date","create_at","toLocaleString","is_paid","_hoisted_38","_hoisted_39","paid_date","_hoisted_40","total","_hoisted_42","_hoisted_43","_hoisted_45","data","cart","orderId","isLoading","searchOrderResult","inject","methods","getOrder","url","this","$http","get","then","res","success","payOrder","post","$httpMessageState","toCopy","oInput","document","createElement","value","body","appendChild","select","execCommand","className","display","created","$route","params","__exports__","render"],"sourceRoot":""}