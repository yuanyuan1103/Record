{"version":3,"file":"js/385.d15be56e.js","mappings":"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","sources":["webpack://record/./src/views/frontend/CheckOut.vue","webpack://record/./src/views/frontend/CheckOut.vue?6d5b"],"sourcesContent":["<template>\n  <Loading :active=\"isLoading\" />\n  <div class=\"box\"></div>\n  <div class=\"container h100\">\n    <div class=\"checkCart pt-5\">\n      <div class=\"step border\">\n        <i class=\"bi bi-bag-check\" />\n        <span class=\"border-top\">確認清單</span>\n      </div>\n      <i class=\"bi bi-caret-right\" />\n      <div class=\"step border\">\n        <i class=\"bi bi-card-list\" />\n        <span class=\"border-top\">填寫資料</span>\n      </div>\n      <i class=\"bi bi-caret-right\" />\n      <div class=\"stepAct border border-secondary\">\n        <i class=\"bi bi-credit-card\" />\n        <span class=\"border-top\">確認付款</span>\n      </div>\n    </div>\n    <div v-if=\"!isLoading\">\n      <div class=\"paySuccess pt-5\" v-if=\"order.is_paid\">\n        <i class=\"bi bi-check-circle-fill display-1 fw-bold text-dark\" />\n        <h3 class=\"p-3\">感謝您的訂購，現貨商品將於1-2天內為您寄出。請留意時間。</h3>\n        <router-link to=\"/product\" class=\"btn btn-outline-dark btn-lg mb-5 rotate\">繼續購物</router-link>\n      </div>\n      <div class=\"pt-5\">\n        <div class=\"row\">\n          <div class=\"col-12 col-lg-7 mb-4\">\n            <div class=\"justify-content-center p-6 border\">\n              <div class=\"mb-3\">\n                <h3 class=\"border-bottom\">訂單編號</h3>\n                <div class=\"d-flex justify-content-between\">\n                  <span>{{ order.id }}</span>\n                  <button type=\"button\" class=\"btn btn-outline-secondary\" @click=\"toCopy(order.id)\">\n                    <i class=\"bi bi-clipboard-check\" />\n                  </button>\n                </div>\n              </div>\n              <div class=\"mb-3\">\n                <h3 class=\"border-bottom\">收件人信箱</h3>\n                <span>{{ order.user.email }}</span>\n              </div>\n              <div class=\"mb-3\">\n                <h3 class=\"border-bottom\">收件人姓名</h3>\n                <span>{{ order.user.name }}</span>\n              </div>\n              <div class=\"mb-3\">\n                <h3 class=\"border-bottom\">收件人電話</h3>\n                <span>{{ order.user.tel }}</span>\n              </div>\n              <div class=\"mb-3\">\n                <h3 class=\"border-bottom\">收件人地址</h3>\n                <span>{{ order.user.address }}</span>\n              </div>\n              <div class=\"mb-3\">\n                <h3 class=\"border-bottom\">留言</h3>\n                <span>{{ order.message }}</span>\n              </div>\n            </div>\n          </div>\n          <div class=\"col-12 col-lg-5 mb-4\">\n            <div class=\"border p-6\">\n              <table class=\"table align-middle align-middle\">\n                <thead>\n                  <tr class=\"align-middle text-sm text-gray-400\">\n                    <th scope=\"col\">品項</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  <tr v-for=\"item in order.products\" :key=\"item.id\">\n                    <td class=\"d-flex flex-column flex-sm-row\">\n                      <img\n                        class=\"productImg\"\n                        :src=\"item.product.imageUrl\"\n                        :alt=\"item.product.title\"\n                        :title=\"item.product.title\"\n                      />\n                      <div class=\"text-start py-4\">\n                        <div class=\"h5\">{{ item.product.title }}</div>\n                        <h6>數量:{{ item.qty }}</h6>\n                        <h6>NT${{ $filters.currency(item.final_total) }}</h6>\n                      </div>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <span class=\"text-sm text-gray-400\">下單時間:</span\n              >{{ new Date(order.create_at * 1000).toLocaleString() }}\n              <div v-if=\"order.is_paid\">\n                <span class=\"text-sm text-gray-400\">付款時間:</span\n                >{{ new Date(order.paid_date * 1000).toLocaleString() }}\n              </div>\n              <div class=\"py-4\">\n                <span class=\"text-sm text-gray-400 mr-4\">總金額</span>\n              </div>\n              <p class=\"fs-2 fw-bolder\">NT${{ $filters.currency(order.total) }}</p>\n              <div v-if=\"order.is_paid === false\">\n                <button type=\"button\" class=\"btn btn-dark w-100\" @click=\"payOrder\">確認付款</button>\n              </div>\n              <div v-else>\n                <button type=\"button\" class=\"btn btn-dark w-100\" disabled>已付款</button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      cart: {},\n      order: {\n        user: {},\n        products: {}\n      },\n      orderId: '',\n      isLoading: false\n    }\n  },\n  inject: ['$httpMessageState', 'emitter'],\n  methods: {\n    getOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/order/${this.orderId}`\n      this.isLoading = true\n      this.$http.get(url).then((res) => {\n        this.order = res.data.order\n        this.isLoading = false\n      })\n    },\n    payOrder() {\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/pay/${this.orderId}`\n      this.isLoading = true\n      this.$http.post(url).then((res) => {\n        this.$httpMessageState(res, '付款成功')\n        this.isLoading = false\n        this.getOrder()\n      })\n    },\n    toCopy(orderId) {\n      navigator.clipboard\n        .writeText(orderId)\n        .then(() => {\n          this.$httpMessageState(\n            {\n              data: {\n                success: true\n              }\n            },\n            '複製訂單編號'\n          )\n        })\n        .catch((err) => {\n          this.$httpMessageState(err, '複製失敗')\n        })\n    }\n  },\n  created() {\n    this.orderId = this.$route.params.orderId\n    this.getOrder()\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/scss/helpers/_CheckOut.scss';\n</style>\n","import { render } from \"./CheckOut.vue?vue&type=template&id=500d4345&scoped=true\"\nimport script from \"./CheckOut.vue?vue&type=script&lang=js\"\nexport * from \"./CheckOut.vue?vue&type=script&lang=js\"\n\nimport \"./CheckOut.vue?vue&type=style&index=0&id=500d4345&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Yuan\\\\Desktop\\\\Vue\\\\record\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-500d4345\"]])\n\nexport default __exports__"],"names":["_createElementVNode","class","_hoisted_16","scope","type","disabled","_hoisted_43","_createVNode","_component_Loading","active","$data","_hoisted_1","_hoisted_3","_createElementBlock","_hoisted_4","is_paid","_hoisted_6","_hoisted_7","_component_router_link","to","_hoisted_14","_toDisplayString","id","onClick","$options","_hoisted_19","user","email","_hoisted_21","name","_hoisted_23","tel","_hoisted_25","address","_hoisted_27","message","_hoisted_31","_Fragment","_renderList","products","item","key","src","product","imageUrl","alt","title","qty","_ctx","currency","final_total","_hoisted_36","Date","create_at","toLocaleString","_hoisted_37","_hoisted_38","paid_date","_hoisted_39","total","_hoisted_41","_hoisted_42","_hoisted_44","data","cart","order","orderId","isLoading","inject","methods","getOrder","url","this","$http","get","then","res","payOrder","post","$httpMessageState","toCopy","navigator","clipboard","writeText","success","catch","err","created","$route","params","__exports__","render"],"sourceRoot":""}