"use strict";(self["webpackChunkrecord"]=self["webpackChunkrecord"]||[]).push([[266],{6266:function(s,d,t){t.r(d),t.d(d,{default:function(){return Z}});var a=t(3396),r=t(7139);const e=s=>((0,a.dD)("data-v-4d1b112d"),s=s(),(0,a.Cn)(),s),i=e((()=>(0,a._)("div",{class:"box"},null,-1))),l={class:"container-fluid h100"},o=(0,a.uE)('<div class="checkCart pt-5" data-v-4d1b112d><div class="step border" data-v-4d1b112d><i class="bi bi-bag-check" data-v-4d1b112d></i><span class="border-top" data-v-4d1b112d>確認清單</span></div><i class="bi bi-caret-right" data-v-4d1b112d></i><div class="step border" data-v-4d1b112d><i class="bi bi-card-list" data-v-4d1b112d></i><span class="border-top" data-v-4d1b112d>填寫資料</span></div><i class="bi bi-caret-right" data-v-4d1b112d></i><div class="stepAct border border-secondary" data-v-4d1b112d><i class="bi bi-credit-card" data-v-4d1b112d></i><span class="border-top" data-v-4d1b112d>確認付款</span></div></div>',1),c={class:"pt-5"},n={class:"row px-5"},b={class:"col-12 col-lg-7 mb-4"},p={class:"justify-content-center p-6 border"},u={class:"mb-3"},v=e((()=>(0,a._)("h3",{class:"border-bottom"},"訂單編號",-1))),_={class:"mb-3"},h=e((()=>(0,a._)("h3",{class:"border-bottom"},"收件人信箱",-1))),m={class:"mb-3"},g=e((()=>(0,a._)("h3",{class:"border-bottom"},"收件人姓名",-1))),y={class:"mb-3"},w=e((()=>(0,a._)("h3",{class:"border-bottom"},"收件人電話",-1))),f={class:"mb-3"},k=e((()=>(0,a._)("h3",{class:"border-bottom"},"收件人地址",-1))),x={class:"mb-3"},$=e((()=>(0,a._)("h3",{class:"border-bottom"},"留言",-1))),z={class:"col-12 col-lg-5 mb-4"},I={class:"border p-6"},L={class:"table align-middle align-middle"},D=e((()=>(0,a._)("thead",null,[(0,a._)("tr",{class:"align-middle text-sm text-gray-400"},[(0,a._)("th",{scope:"col"},"品項")])],-1))),O={class:"d-flex align-items-center flex-column flex-sm-row"},C=["src"],q={class:"ms-3 text-start py-4"},j={class:"h3"},H={class:""},M=e((()=>(0,a._)("div",{class:"py-4"},[(0,a._)("span",{class:"text-sm text-gray-400 mr-4"},"總金額")],-1))),N={class:"fs-2 fw-bolder"},S={key:0},T={key:1},Y=e((()=>(0,a._)("button",{type:"button",class:"btn btn-dark w-100",disabled:""},"已付款",-1))),A=[Y];function E(s,d,t,e,Y,E){const K=(0,a.up)("Loading");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(K,{active:Y.isLoading},null,8,["active"]),i,(0,a._)("div",l,[o,(0,a._)("div",c,[(0,a._)("div",n,[(0,a._)("div",b,[(0,a._)("div",p,[(0,a._)("div",u,[v,(0,a._)("span",null,(0,r.zw)(Y.order.id),1)]),(0,a._)("div",_,[h,(0,a._)("span",null,(0,r.zw)(Y.order.user.email),1)]),(0,a._)("div",m,[g,(0,a._)("span",null,(0,r.zw)(Y.order.user.name),1)]),(0,a._)("div",y,[w,(0,a._)("span",null,(0,r.zw)(Y.order.user.tel),1)]),(0,a._)("div",f,[k,(0,a._)("span",null,(0,r.zw)(Y.order.user.address),1)]),(0,a._)("div",x,[$,(0,a._)("span",null,(0,r.zw)(Y.order.message),1)])])]),(0,a._)("div",z,[(0,a._)("div",I,[(0,a._)("table",L,[D,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(Y.order.products,(d=>((0,a.wg)(),(0,a.iD)("tr",{key:d.id},[(0,a._)("td",O,[(0,a._)("img",{class:"productImg",src:d.product.imageUrl,alt:""},null,8,C),(0,a._)("div",q,[(0,a._)("div",j,(0,r.zw)(d.title),1),(0,a._)("div",H,[(0,a._)("h5",null,"數量:"+(0,r.zw)(d.qty),1),(0,a._)("h5",null,"NT$"+(0,r.zw)(s.$filters.currency(d.final_total)),1)])])])])))),128))])]),M,(0,a._)("p",N,"NT$"+(0,r.zw)(s.$filters.currency(Y.order.total)),1),!1===Y.order.is_paid?((0,a.wg)(),(0,a.iD)("div",S,[(0,a._)("button",{type:"button",class:"btn btn-dark w-100",onClick:d[0]||(d[0]=(...s)=>E.payOrder&&E.payOrder(...s))},"確認付款")])):(0,a.kq)("",!0),!0===Y.order.is_paid?((0,a.wg)(),(0,a.iD)("div",T,A)):(0,a.kq)("",!0)])])])])])],64)}var K={data(){return{cart:{},order:{user:{},products:{}},orderId:"",isLoading:!1}},inject:["$httpMessageState","emitter"],methods:{getOrder(){const s=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/order/${this.orderId}`;this.isLoading=!0,this.$http.get(s).then((s=>{s.data.success&&(this.order=s.data.order,this.isLoading=!1)}))},payOrder(){const s=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(s).then((s=>{s.data.success&&(this.$httpMessageState(s,"付款成功"),this.isLoading=!1,this.getOrder())}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},U=t(89);const W=(0,U.Z)(K,[["render",E],["__scopeId","data-v-4d1b112d"]]);var Z=W}}]);
//# sourceMappingURL=266.1e3937e1.js.map