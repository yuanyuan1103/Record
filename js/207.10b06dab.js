"use strict";(self["webpackChunkrecord"]=self["webpackChunkrecord"]||[]).push([[207],{5207:function(a,e,s){s.r(e),s.d(e,{default:function(){return K}});var l=s(3396),t=s(7139),r=s(9242);const d=a=>((0,l.dD)("data-v-f3bd7c16"),a=a(),(0,l.Cn)(),a),c=d((()=>(0,l._)("div",{class:"box"},null,-1))),i={class:"container h100"},o=(0,l.uE)('<div class="checkCart pt-5" data-v-f3bd7c16><div class="step border" data-v-f3bd7c16><i class="bi bi-bag-check" data-v-f3bd7c16></i><span class="border-top" data-v-f3bd7c16>確認清單</span></div><i class="bi bi-caret-right" data-v-f3bd7c16></i><div class="stepAct border border-secondary" data-v-f3bd7c16><i class="bi bi-card-list" data-v-f3bd7c16></i><span class="border-top" data-v-f3bd7c16>填寫資料</span></div><i class="bi bi-caret-right-fill" data-v-f3bd7c16></i><div class="step border border-secondary" data-v-f3bd7c16><i class="bi bi-credit-card" data-v-f3bd7c16></i><span class="border-top" data-v-f3bd7c16>確認付款</span></div></div>',1),n={class:"pt-5"},m={class:"row"},u={class:"col-12 col-lg-7 mb-4"},f={class:"justify-content-center p-6 border"},b={class:"mb-3"},p=d((()=>(0,l._)("label",{for:"email",class:"form-label"},"Email",-1))),v={class:"mb-3"},h=d((()=>(0,l._)("label",{for:"name",class:"form-label"},"收件人姓名",-1))),_={class:"mb-3"},g=d((()=>(0,l._)("label",{for:"tel",class:"form-label"},"收件人電話",-1))),y={class:"mb-3"},w=d((()=>(0,l._)("label",{for:"address",class:"form-label"},"收件人地址",-1))),x={class:"mb-3"},k=d((()=>(0,l._)("label",{for:"message",class:"form-label"},"留言",-1))),$=["disabled"],V={class:"col-12 col-lg-5 mb-4"},C={class:"border p-6"},W={class:"table align-middle align-middle"},q=d((()=>(0,l._)("thead",null,[(0,l._)("tr",{class:"align-middle text-sm text-gray-400"},[(0,l._)("th",{scope:"col"},"品項")])],-1))),z={class:"d-flex flex-column flex-sm-row"},D=["src","alt","title"],E={class:"text-start py-4"},L={class:"h5"},N=d((()=>(0,l._)("span",{class:"text-sm text-gray-400 mr-4"},"商品總計",-1))),T={class:"fs-4"},U=(0,l.uE)('<div class="py-4" data-v-f3bd7c16><span class="text-sm text-gray-400 mr-4" data-v-f3bd7c16>運費</span><span class="fs-4" data-v-f3bd7c16>NT$0</span></div><div class="border-top py-4" data-v-f3bd7c16><span class="text-sm text-gray-400 mr-4" data-v-f3bd7c16>總金額</span></div>',2),S={key:0},j={class:"fs-2 fw-bolder"},I={key:1},M={class:"text-decoration-line-through text-muted fs-5"},O={class:"fs-2 fw-bolder"};function F(a,e,s,d,F,H){const Y=(0,l.up)("Loading"),A=(0,l.up)("Field"),K=(0,l.up)("ErrorMessage"),Z=(0,l.up)("Form");return(0,l.wg)(),(0,l.iD)(l.HY,null,[(0,l.Wm)(Y,{active:a.isLoading},null,8,["active"]),c,(0,l._)("div",i,[o,(0,l._)("div",n,[(0,l._)("div",m,[(0,l._)("div",u,[(0,l._)("div",f,[(0,l.Wm)(Z,{onSubmit:H.createOrder},{default:(0,l.w5)((({errors:a})=>[(0,l._)("div",b,[p,(0,l.Wm)(A,{id:"email",name:"email",type:"email",class:(0,t.C_)(["form-control",{"is-invalid":a["email"]}]),placeholder:"請輸入 Email",rules:"email|required",modelValue:F.form.user.email,"onUpdate:modelValue":e[0]||(e[0]=a=>F.form.user.email=a)},null,8,["class","modelValue"]),(0,l.Wm)(K,{name:"email",class:"invalid-feedback"})]),(0,l._)("div",v,[h,(0,l.Wm)(A,{id:"name",name:"姓名",type:"text",class:(0,t.C_)(["form-control",{"is-invalid":a["姓名"]}]),placeholder:"請輸入姓名",rules:"required",modelValue:F.form.user.name,"onUpdate:modelValue":e[1]||(e[1]=a=>F.form.user.name=a)},null,8,["class","modelValue"]),(0,l.Wm)(K,{name:"姓名",class:"invalid-feedback"})]),(0,l._)("div",_,[g,(0,l.Wm)(A,{id:"tel",name:"電話",type:"tel",class:(0,t.C_)(["form-control",{"is-invalid":a["電話"]}]),placeholder:"請輸入電話",rules:"required",modelValue:F.form.user.tel,"onUpdate:modelValue":e[2]||(e[2]=a=>F.form.user.tel=a)},null,8,["class","modelValue"]),(0,l.Wm)(K,{name:"電話",class:"invalid-feedback"})]),(0,l._)("div",y,[w,(0,l.Wm)(A,{id:"address",name:"地址",type:"text",class:(0,t.C_)(["form-control",{"is-invalid":a["地址"]}]),placeholder:"請輸入地址",rules:"required",modelValue:F.form.user.address,"onUpdate:modelValue":e[3]||(e[3]=a=>F.form.user.address=a)},null,8,["class","modelValue"]),(0,l.Wm)(K,{name:"地址",class:"invalid-feedback"})]),(0,l._)("div",x,[k,(0,l.wy)((0,l._)("textarea",{name:"",id:"message",class:"form-control",cols:"30",rows:"10","onUpdate:modelValue":e[4]||(e[4]=a=>F.form.message=a)},null,512),[[r.nr,F.form.message]])]),(0,l._)("button",{type:"submit",class:"btn btn-dark w-100",disabled:F.form.user.email&&F.form.user.name&&F.form.user.tel&&F.form.user.address&&0!==Object.keys(a).length}," 送出訂單 ",8,$)])),_:1},8,["onSubmit"])])]),(0,l._)("div",V,[(0,l._)("div",C,[(0,l._)("table",W,[q,(0,l._)("tbody",null,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(F.cart.carts,(e=>((0,l.wg)(),(0,l.iD)("tr",{key:e.id},[(0,l._)("td",z,[(0,l._)("img",{class:"productImg",src:e.product.imageUrl,alt:e.product.title,title:e.product.title},null,8,D),(0,l._)("div",E,[(0,l._)("div",L,(0,t.zw)(e.product.title),1),(0,l._)("h6",null,"數量:"+(0,t.zw)(e.qty),1),(0,l._)("h6",null,"NT$"+(0,t.zw)(a.$filters.currency(e.total)),1)])])])))),128))])]),(0,l._)("div",null,[N,(0,l._)("span",T,"NT$"+(0,t.zw)(a.$filters.currency(F.cart.total)),1)]),U,F.cart.final_total==F.cart.total?((0,l.wg)(),(0,l.iD)("div",S,[(0,l._)("p",j,"NT$"+(0,t.zw)(a.$filters.currency(F.cart.total)),1)])):(0,l.kq)("",!0),F.cart.final_total!==F.cart.total?((0,l.wg)(),(0,l.iD)("div",I,[(0,l._)("span",M,"NT$"+(0,t.zw)(a.$filters.currency(F.cart.total)),1),(0,l._)("p",O,"NT$"+(0,t.zw)(a.$filters.currency(F.cart.final_total)),1)])):(0,l.kq)("",!0)])])])])])],64)}var H={data(){return{cart:{},form:{user:{name:"",email:"",tel:"",address:""},message:""},isEmpty:!0}},inject:["$httpMessageState","emitter"],methods:{createOrder(){const a="https://vue3-course-api.hexschool.io/api/yuanyuan1103/order",e=this.form;this.isLoading=!0,this.$http.post(a,{data:e}).then((a=>{this.emitter.emit("update-cart"),this.$router.push(`/checkout/${a.data.orderId}`),this.isLoading=!1,this.$httpMessageState(a,"建立訂單")}))},getCart(){const a="https://vue3-course-api.hexschool.io/api/yuanyuan1103/cart";this.isLoading=!0,this.$http.get(a).then((a=>{this.cart=a.data.data,this.isLoading=!1}))}},created(){this.getCart()}},Y=s(89);const A=(0,Y.Z)(H,[["render",F],["__scopeId","data-v-f3bd7c16"]]);var K=A}}]);
//# sourceMappingURL=207.10b06dab.js.map