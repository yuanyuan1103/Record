"use strict";(self["webpackChunkrecord"]=self["webpackChunkrecord"]||[]).push([[5],{6005:function(t,s,e){e.r(s),e.d(s,{default:function(){return st}});var a=e(3396),r=e(7139),i=e(9242);const d=t=>((0,a.dD)("data-v-f0236bec"),t=t(),(0,a.Cn)(),t),c=d((()=>(0,a._)("div",{class:"box"},null,-1))),l={class:"container-fluid h100"},o=(0,a.uE)('<div class="checkCart pt-5" data-v-f0236bec><div class="step border" data-v-f0236bec><i class="bi bi-bag-check" data-v-f0236bec></i><span class="border-top" data-v-f0236bec>確認清單</span></div><i class="bi bi-caret-right" data-v-f0236bec></i><div class="step border" data-v-f0236bec><i class="bi bi-card-list" data-v-f0236bec></i><span class="border-top" data-v-f0236bec>填寫資料</span></div><i class="bi bi-caret-right" data-v-f0236bec></i><div class="stepAct border border-secondary" data-v-f0236bec><i class="bi bi-credit-card" data-v-f0236bec></i><span class="border-top" data-v-f0236bec>確認付款</span></div></div>',1),n={key:0},b={key:0,class:"paySuccess pt-5"},p=d((()=>(0,a._)("i",{class:"bi bi-check-circle-fill display-1 fw-bold text-dark"},null,-1))),u=d((()=>(0,a._)("h3",{class:"p-3"},"感謝您的訂購，現貨商品將於1-2天內為您寄出。請留意時間。",-1))),_=(0,a.Uk)("繼續購物"),h={class:"pt-5"},v={class:"row px-5"},g={class:"col-12 col-lg-7 mb-4"},m={class:"justify-content-center p-6 border"},f={class:"mb-3"},y=d((()=>(0,a._)("h3",{class:"border-bottom"},"訂單編號",-1))),w={class:"d-flex justify-content-between"},k=d((()=>(0,a._)("i",{class:"bi bi-clipboard-check"},null,-1))),x=[k],$={class:"mb-3"},z=d((()=>(0,a._)("h3",{class:"border-bottom"},"收件人信箱",-1))),D={class:"mb-3"},L=d((()=>(0,a._)("h3",{class:"border-bottom"},"收件人姓名",-1))),C={class:"mb-3"},I=d((()=>(0,a._)("h3",{class:"border-bottom"},"收件人電話",-1))),S={class:"mb-3"},q=d((()=>(0,a._)("h3",{class:"border-bottom"},"收件人地址",-1))),M={class:"mb-3"},O=d((()=>(0,a._)("h3",{class:"border-bottom"},"留言",-1))),U={class:"col-12 col-lg-5 mb-4"},j={class:"border p-6"},T={class:"table align-middle align-middle"},H=d((()=>(0,a._)("thead",null,[(0,a._)("tr",{class:"align-middle text-sm text-gray-400"},[(0,a._)("th",{scope:"col"},"品項")])],-1))),N={class:"d-flex align-items-center flex-column flex-sm-row"},W=["src","alt","title"],Y={class:"ms-3 text-start py-4"},A={class:"h5"},E=d((()=>(0,a._)("span",{class:"text-sm text-gray-400"},"下單時間:",-1))),K={key:0},Z=d((()=>(0,a._)("span",{class:"text-sm text-gray-400"},"付款時間:",-1))),B=d((()=>(0,a._)("div",{class:"py-4"},[(0,a._)("span",{class:"text-sm text-gray-400 mr-4"},"總金額")],-1))),F={class:"fs-2 fw-bolder"},G={key:1},J={key:2},P=d((()=>(0,a._)("button",{type:"button",class:"btn btn-dark w-100",disabled:""},"已付款",-1))),Q=[P];function R(t,s,e,d,k,P){const R=(0,a.up)("Loading"),V=(0,a.up)("router-link");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(R,{active:k.isLoading},null,8,["active"]),c,(0,a._)("div",l,[o,k.isLoading?(0,a.kq)("",!0):((0,a.wg)(),(0,a.iD)("div",n,[k.order.is_paid?((0,a.wg)(),(0,a.iD)("div",b,[p,u,(0,a.Wm)(V,{to:"/product",class:"btn btn-outline-dark btn-lg mb-5 rotate"},{default:(0,a.w5)((()=>[_])),_:1})])):(0,a.kq)("",!0),(0,a._)("div",h,[(0,a._)("div",v,[(0,a._)("div",g,[(0,a._)("div",m,[(0,a._)("div",f,[y,(0,a._)("div",w,[(0,a._)("span",null,(0,r.zw)(k.order.id),1),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:s[0]||(s[0]=(0,i.iM)((t=>P.toCopy(k.order.id)),["prevent"]))},x)])]),(0,a._)("div",$,[z,(0,a._)("span",null,(0,r.zw)(k.order.user.email),1)]),(0,a._)("div",D,[L,(0,a._)("span",null,(0,r.zw)(k.order.user.name),1)]),(0,a._)("div",C,[I,(0,a._)("span",null,(0,r.zw)(k.order.user.tel),1)]),(0,a._)("div",S,[q,(0,a._)("span",null,(0,r.zw)(k.order.user.address),1)]),(0,a._)("div",M,[O,(0,a._)("span",null,(0,r.zw)(k.order.message),1)])])]),(0,a._)("div",U,[(0,a._)("div",j,[(0,a._)("table",T,[H,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(k.order.products,(s=>((0,a.wg)(),(0,a.iD)("tr",{key:s.id},[(0,a._)("td",N,[(0,a._)("img",{class:"productImg",src:s.product.imageUrl,alt:s.product.title,title:s.product.title},null,8,W),(0,a._)("div",Y,[(0,a._)("div",A,(0,r.zw)(s.product.title),1),(0,a._)("h6",null,"數量:"+(0,r.zw)(s.qty),1),(0,a._)("h6",null,"NT$"+(0,r.zw)(t.$filters.currency(s.final_total)),1)])])])))),128))])]),E,(0,a.Uk)((0,r.zw)(new Date(1e3*k.order.create_at).toLocaleString())+" ",1),k.order.is_paid?((0,a.wg)(),(0,a.iD)("div",K,[Z,(0,a.Uk)((0,r.zw)(new Date(1e3*k.order.paid_date).toLocaleString()),1)])):(0,a.kq)("",!0),B,(0,a._)("p",F,"NT$"+(0,r.zw)(t.$filters.currency(k.order.total)),1),!1===k.order.is_paid?((0,a.wg)(),(0,a.iD)("div",G,[(0,a._)("button",{type:"button",class:"btn btn-dark w-100",onClick:s[1]||(s[1]=(0,i.iM)(((...t)=>P.payOrder&&P.payOrder(...t)),["prevent"]))},"確認付款")])):(0,a.kq)("",!0),!0===k.order.is_paid?((0,a.wg)(),(0,a.iD)("div",J,Q)):(0,a.kq)("",!0)])])])])]))])],64)}var V={data(){return{cart:{},order:{user:{},products:{}},orderId:"",isLoading:!1}},inject:["$httpMessageState","emitter"],methods:{getOrder(){const t=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/order/${this.orderId}`;this.isLoading=!0,this.$http.get(t).then((t=>{t.data.success&&(this.order=t.data.order,this.isLoading=!1)}))},payOrder(){const t=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(t).then((t=>{t.data.success&&(this.$httpMessageState(t,"付款成功"),this.isLoading=!1,this.getOrder())}))},toCopy(t){navigator.clipboard.writeText(t).then((()=>{this.$httpMessageState({data:{success:!0}},"複製訂單編號")})).catch((t=>{this.$httpMessageState(t,"複製失敗")}))}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},X=e(89);const tt=(0,X.Z)(V,[["render",R],["__scopeId","data-v-f0236bec"]]);var st=tt}}]);
//# sourceMappingURL=5.1498556d.js.map