"use strict";(self["webpackChunkrecord"]=self["webpackChunkrecord"]||[]).push([[576],{2576:function(s,t,e){e.r(t),e.d(t,{default:function(){return P}});var a=e(3396),d=e(7139);const r=s=>((0,a.dD)("data-v-6d727e85"),s=s(),(0,a.Cn)(),s),i=r((()=>(0,a._)("div",{class:"box"},null,-1))),l={class:"container-fluid h100"},o=(0,a.uE)('<div class="checkCart pt-5" data-v-6d727e85><div class="step border" data-v-6d727e85><i class="bi bi-bag-check" data-v-6d727e85></i><span class="border-top" data-v-6d727e85>確認清單</span></div><i class="bi bi-caret-right" data-v-6d727e85></i><div class="step border" data-v-6d727e85><i class="bi bi-card-list" data-v-6d727e85></i><span class="border-top" data-v-6d727e85>填寫資料</span></div><i class="bi bi-caret-right" data-v-6d727e85></i><div class="stepAct border border-secondary" data-v-6d727e85><i class="bi bi-credit-card" data-v-6d727e85></i><span class="border-top" data-v-6d727e85>確認付款</span></div></div>',1),c={class:"pt-5"},n={class:"row px-5"},p={class:"col-12 col-lg-7 mb-4"},u={class:"justify-content-center p-6 border"},b={class:"mb-3"},_=r((()=>(0,a._)("h3",{class:"border-bottom"},"訂單編號",-1))),v={class:"d-flex justify-content-between"},h=r((()=>(0,a._)("i",{class:"bi bi-clipboard-check"},null,-1))),m=[h],g={class:"mb-3"},y=r((()=>(0,a._)("h3",{class:"border-bottom"},"收件人信箱",-1))),w={class:"mb-3"},k=r((()=>(0,a._)("h3",{class:"border-bottom"},"收件人姓名",-1))),f={class:"mb-3"},x=r((()=>(0,a._)("h3",{class:"border-bottom"},"收件人電話",-1))),z={class:"mb-3"},$=r((()=>(0,a._)("h3",{class:"border-bottom"},"收件人地址",-1))),C={class:"mb-3"},D=r((()=>(0,a._)("h3",{class:"border-bottom"},"留言",-1))),L={class:"col-12 col-lg-5 mb-4"},I={class:"border p-6"},O={class:"table align-middle align-middle"},S=r((()=>(0,a._)("thead",null,[(0,a._)("tr",{class:"align-middle text-sm text-gray-400"},[(0,a._)("th",{scope:"col"},"品項")])],-1))),q={class:"d-flex align-items-center flex-column flex-sm-row"},j=["src"],M={class:"ms-3 text-start py-4"},N={class:"h5"},U=r((()=>(0,a._)("span",{class:"text-sm text-gray-400"},"下單時間:",-1))),E={key:0},H=r((()=>(0,a._)("span",{class:"text-sm text-gray-400"},"付款時間:",-1))),T=r((()=>(0,a._)("div",{class:"py-4"},[(0,a._)("span",{class:"text-sm text-gray-400 mr-4"},"總金額")],-1))),Y={class:"fs-2 fw-bolder"},A={key:1},K={key:2},W=r((()=>(0,a._)("button",{type:"button",class:"btn btn-dark w-100",disabled:""},"已付款",-1))),Z=[W];function B(s,t,e,r,h,W){const B=(0,a.up)("Loading");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(B,{active:h.isLoading},null,8,["active"]),i,(0,a._)("div",l,[o,(0,a._)("div",c,[(0,a._)("div",n,[(0,a._)("div",p,[(0,a._)("div",u,[(0,a._)("div",b,[_,(0,a._)("div",v,[(0,a._)("span",null,(0,d.zw)(h.order.id),1),(0,a._)("button",{type:"button",class:"btn btn-outline-secondary",onClick:t[0]||(t[0]=s=>W.toCopy(h.order.id))},m)])]),(0,a._)("div",g,[y,(0,a._)("span",null,(0,d.zw)(h.order.user.email),1)]),(0,a._)("div",w,[k,(0,a._)("span",null,(0,d.zw)(h.order.user.name),1)]),(0,a._)("div",f,[x,(0,a._)("span",null,(0,d.zw)(h.order.user.tel),1)]),(0,a._)("div",z,[$,(0,a._)("span",null,(0,d.zw)(h.order.user.address),1)]),(0,a._)("div",C,[D,(0,a._)("span",null,(0,d.zw)(h.order.message),1)])])]),(0,a._)("div",L,[(0,a._)("div",I,[(0,a._)("table",O,[S,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(h.order.products,(t=>((0,a.wg)(),(0,a.iD)("tr",{key:t.id},[(0,a._)("td",q,[(0,a._)("img",{class:"productImg",src:t.product.imageUrl,alt:""},null,8,j),(0,a._)("div",M,[(0,a._)("div",N,(0,d.zw)(t.product.title),1),(0,a._)("h6",null,"數量:"+(0,d.zw)(t.qty),1),(0,a._)("h6",null,"NT$"+(0,d.zw)(s.$filters.currency(t.final_total)),1)])])])))),128))])]),U,(0,a.Uk)((0,d.zw)(new Date(1e3*h.order.create_at).toLocaleString())+" ",1),h.order.is_paid?((0,a.wg)(),(0,a.iD)("div",E,[H,(0,a.Uk)((0,d.zw)(new Date(1e3*h.order.paid_date).toLocaleString()),1)])):(0,a.kq)("",!0),T,(0,a._)("p",Y,"NT$"+(0,d.zw)(s.$filters.currency(h.order.total)),1),!1===h.order.is_paid?((0,a.wg)(),(0,a.iD)("div",A,[(0,a._)("button",{type:"button",class:"btn btn-dark w-100",onClick:t[1]||(t[1]=(...s)=>W.payOrder&&W.payOrder(...s))},"確認付款")])):(0,a.kq)("",!0),!0===h.order.is_paid?((0,a.wg)(),(0,a.iD)("div",K,Z)):(0,a.kq)("",!0)])])])])])],64)}var F={data(){return{cart:{},order:{user:{},products:{}},orderId:"",isLoading:!1}},inject:["$httpMessageState","emitter"],methods:{getOrder(){const s=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/order/${this.orderId}`;this.isLoading=!0,this.$http.get(s).then((s=>{s.data.success&&(this.order=s.data.order,this.isLoading=!1)}))},payOrder(){const s=`https://vue3-course-api.hexschool.io/api/yuanyuan1103/pay/${this.orderId}`;this.isLoading=!0,this.$http.post(s).then((s=>{s.data.success&&(this.$httpMessageState(s,"付款成功"),this.isLoading=!1,this.getOrder())}))},toCopy(s){var t=document.createElement("input");t.value=s,document.body.appendChild(t),t.select(),document.execCommand("Copy"),t.className="oInput",t.style.display="none",this.$httpMessageState({data:{success:!0}},"複製訂單編號")}},created(){this.orderId=this.$route.params.orderId,this.getOrder()}},G=e(89);const J=(0,G.Z)(F,[["render",B],["__scopeId","data-v-6d727e85"]]);var P=J}}]);
//# sourceMappingURL=576.98f84c7f.js.map