{"version":3,"file":"js/396.e4549570.js","mappings":"sLAES,aAAW,mB,GACVA,MAAM,uC,iBAgBE,cAAY,Q,0CAlB5BC,EAAAA,EAAAA,IA4BM,aA3BJC,EAAAA,EAAAA,GA0BM,MA1BN,EA0BM,EAzBJA,EAAAA,EAAAA,GAwBK,KAxBL,EAwBK,EAvBHA,EAAAA,EAAAA,GAIK,MAJDF,OAAK,SAAC,YAAW,CAAAG,SAAuC,GAAlBC,EAAAA,MAAMC,iBAAhD,EACEH,EAAAA,EAAAA,GAEI,KAFDF,MAAM,YAAaM,QAAK,yBAAUC,EAAAA,WAAWH,EAAAA,MAAMC,aAAY,mBAAlE,EACEH,EAAAA,EAAAA,GAA4F,KAAxFF,OAAK,SAAoB,GAAlBI,EAAAA,MAAMC,aAAY,qCAAsD,QAAnF,WAFJ,KAuBG,aAlBHJ,EAAAA,EAAAA,IAOKO,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IANYL,EAAAA,MAAMM,aAAdC,K,WADTV,EAAAA,EAAAA,IAOK,MALFW,IAAKD,EACNX,OAAK,SAAC,YAAW,CAAAa,OACCT,EAAAA,MAAMC,cAAgBM,MAJ1C,EAMET,EAAAA,EAAAA,GAA8E,KAA3EF,MAAM,YAAYc,KAAK,IAAKR,SAAK,YAAUC,EAAAA,WAAWI,IAAI,eAA7D,QAAmEA,GAAI,EAAAI,IANzE,aAQAb,EAAAA,EAAAA,GASK,MATDF,OAAK,SAAC,YAAW,CAAAG,SAAqBC,EAAAA,MAAMC,cAAgBD,EAAAA,MAAMM,gBAAtE,EACER,EAAAA,EAAAA,GAOI,KAPDF,MAAM,YAAYc,KAAK,IAAKR,QAAK,yBAAUC,EAAAA,WAAWH,EAAAA,MAAMC,aAAY,mBAA3E,EACEH,EAAAA,EAAAA,GAKQ,OALR,EAKQ,EAJLA,EAAAA,EAAAA,GAIF,KAHIF,OAAK,SAAEI,EAAAA,MAAMC,cAAgBD,EAAAA,MAAMM,YAAW,uCACzC,QAFP,aAHP,SAeR,OACEM,MAAO,CACLC,MAAO,CACLC,KAAMC,OACNC,QAAS,KAAM,CACbV,YAAa,EACbL,aAAc,EACdgB,SAAS,EACTC,UAAU,MAIhBC,QAAS,CACPC,WAAWb,GACTc,KAAKC,MAAM,aAAcf,M,QCzC/B,MAAMgB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,S,oGCLO5B,MAAM,Y,GAGJA,MAAM,c,GACXE,EAAAA,EAAAA,GASQ,eARNA,EAAAA,EAAAA,GAOK,YANHA,EAAAA,EAAAA,GAAuB,MAAnB2B,MAAM,OAAM,OAChB3B,EAAAA,EAAAA,GAAa,UAAT,SACJA,EAAAA,EAAAA,GAAuB,MAAnB2B,MAAM,OAAM,OAChB3B,EAAAA,EAAAA,GAAuB,MAAnB2B,MAAM,OAAM,OAChB3B,EAAAA,EAAAA,GAAyB,MAArB2B,MAAM,OAAM,SAChB3B,EAAAA,EAAAA,GAAuB,MAAnB2B,MAAM,OAAM,UAPpB,G,GAcQ7B,MAAM,c,GAGNA,MAAM,c,SAIFA,MAAM,gB,SACNA,MAAM,c,GAGPA,MAAM,a,iMA9BnB8B,EAAAA,EAAAA,IAA+BC,EAAA,CAArBlB,OAAQmB,EAAAA,WAAS,oBAC3B9B,EAAAA,EAAAA,GAEM,MAFN,EAEM,EADJA,EAAAA,EAAAA,GAAsF,UAA9EgB,KAAK,SAASlB,MAAM,kBAAmBM,QAAK,eAAEC,EAAAA,WAAS,KAAQ,aAEzEL,EAAAA,EAAAA,GAiCQ,QAjCR,EAiCQ,CAhCNa,GAUAb,EAAAA,EAAAA,GAqBQ,6BApBND,EAAAA,EAAAA,IAmBKO,EAAAA,GAAA,MAAAC,EAAAA,EAAAA,IAnBcuB,EAAAA,UAARC,K,WAAXhC,EAAAA,EAAAA,IAmBK,MAnByBW,IAAKqB,EAAKC,IAAxC,EACEhC,EAAAA,EAAAA,GAA4B,WAAAiC,EAAAA,EAAAA,IAArBF,EAAKG,UAAQ,IACpBlC,EAAAA,EAAAA,GAAyB,WAAAiC,EAAAA,EAAAA,IAAlBF,EAAKI,OAAK,IACjBnC,EAAAA,EAAAA,GAEK,KAFL,GAEKiC,EAAAA,EAAAA,IADA5B,EAAAA,SAAS0B,EAAKK,eAAY,IAE/BpC,EAAAA,EAAAA,GAEK,KAFL,GAEKiC,EAAAA,EAAAA,IADA5B,EAAAA,SAAS0B,EAAKM,QAAK,IAExBrC,EAAAA,EAAAA,GAGK,WAF8B+B,EAAKO,aAAAA,EAAAA,EAAAA,OAAtCvC,EAAAA,EAAAA,IAA2D,OAA3D,EAAkD,SAAlD,WACAA,EAAAA,EAAAA,IAA0C,OAA1C,EAAgC,WAElCC,EAAAA,EAAAA,GAKK,YAJHA,EAAAA,EAAAA,GAGM,MAHN,EAGM,EAFJA,EAAAA,EAAAA,GAAwG,UAAhGgB,KAAK,SAASlB,MAAM,iCAAkCM,QAAK,GAAEC,EAAAA,WAAS,EAAQ0B,IAAO,KAAE,EAAAQ,IAC/FvC,EAAAA,EAAAA,GAA0G,UAAlGgB,KAAK,SAASlB,MAAM,gCAAiCM,QAAK,GAAEC,EAAAA,oBAAoB0B,IAAO,KAAE,EAAAS,YAhBvG,WAsBJZ,EAAAA,EAAAA,IAA4Da,EAAA,CAA/C1B,MAAOe,EAAAA,WAAaY,YAAYrC,EAAAA,aAA7C,iCACAuB,EAAAA,EAAAA,IAA0Fe,EAAA,CAA5EC,IAAI,eAAgBC,QAASf,EAAAA,YAAcgB,gBAAgBzC,EAAAA,eAAzE,uCACAuB,EAAAA,EAAAA,IAAsEmB,EAAA,CAA3DhB,KAAMD,EAAAA,YAAac,IAAI,WAAYI,UAAU3C,EAAAA,YAAxD,kC,uBCtCEP,MAAM,aACNkC,GAAG,eACHiB,SAAS,KACT,kBAAgB,oBAChB,cAAY,OACZL,IAAI,S,GAEC9C,MAAM,wBAAwBoD,KAAK,Y,GACjCpD,MAAM,0B,GACTE,EAAAA,EAAAA,GAKM,OALDF,MAAM,mCAAiC,EAC1CE,EAAAA,EAAAA,GAEK,MAFDF,MAAM,cAAckC,GAAG,qBAA3B,EACEhC,EAAAA,EAAAA,GAAiB,YAAX,WAERA,EAAAA,EAAAA,GAA4F,UAApFgB,KAAK,SAASlB,MAAM,YAAY,kBAAgB,QAAQ,aAAW,YAJ7E,G,GAMKA,MAAM,c,GACJA,MAAM,O,GACJA,MAAM,Y,GACJA,MAAM,Q,GACTE,EAAAA,EAAAA,GAAoD,SAA7CmD,IAAI,QAAQrD,MAAM,cAAa,UAAM,G,GASzCA,MAAM,Q,GACTE,EAAAA,EAAAA,GAGQ,SAHDmD,IAAI,aAAarD,MAAM,cAA9B,UACG,YACDE,EAAAA,EAAAA,GAAsC,KAAnCF,MAAM,6BAFX,G,2TAkBCA,MAAM,Y,GACJA,MAAM,Q,GACTE,EAAAA,EAAAA,GAAgD,SAAzCmD,IAAI,QAAQrD,MAAM,cAAa,MAAE,G,GAUrCA,MAAM,Y,GACJA,MAAM,iB,GACTE,EAAAA,EAAAA,GAAmD,SAA5CmD,IAAI,WAAWrD,MAAM,cAAa,MAAE,G,GASxCA,MAAM,iB,GACTE,EAAAA,EAAAA,GAAgD,SAAzCmD,IAAI,QAAQrD,MAAM,cAAa,MAAE,G,GAWvCA,MAAM,Y,GACJA,MAAM,iB,GACTE,EAAAA,EAAAA,GAAuD,SAAhDmD,IAAI,eAAerD,MAAM,cAAa,MAAE,G,GAS5CA,MAAM,iB,GACTE,EAAAA,EAAAA,GAAgD,SAAzCmD,IAAI,QAAQrD,MAAM,cAAa,MAAE,G,GAU5CE,EAAAA,EAAAA,GAAM,mB,GAEDF,MAAM,Q,GACTE,EAAAA,EAAAA,GAAwD,SAAjDmD,IAAI,cAAcrD,MAAM,cAAa,QAAI,G,GAS7CA,MAAM,Q,GACTE,EAAAA,EAAAA,GAAoD,SAA7CmD,IAAI,UAAUrD,MAAM,cAAa,QAAI,G,GASzCA,MAAM,Q,GACJA,MAAM,c,GASTE,EAAAA,EAAAA,GAA+D,SAAxDF,MAAM,mBAAmBqD,IAAI,cAAa,UAAM,G,GAM5DrD,MAAM,gB,GACTE,EAAAA,EAAAA,GAA2F,UAAnFgB,KAAK,SAASlB,MAAM,4BAA4B,kBAAgB,SAAQ,MAAE,G,0CAhJ1FC,EAAAA,EAAAA,IAqJM,MArJN,EAqJM,EA7IJC,EAAAA,EAAAA,GA4IM,MA5IN,EA4IM,EA3IJA,EAAAA,EAAAA,GA0IM,MA1IN,EA0IM,CAzIJoD,GAMApD,EAAAA,EAAAA,GA8HM,MA9HN,EA8HM,EA7HJA,EAAAA,EAAAA,GA4HM,MA5HN,EA4HM,EA3HJA,EAAAA,EAAAA,GA6BM,MA7BN,EA6BM,EA5BJA,EAAAA,EAAAA,GASM,MATN,EASM,CARJuC,GAQI,SAPJvC,EAAAA,EAAAA,GAME,SALAgB,KAAK,OACLlB,MAAM,eACNkC,GAAG,QACHqB,YAAY,U,qCACHvB,EAAAA,YAAYwB,SAAQC,IAL/B,iBAKWzB,EAAAA,YAAYwB,eAGzBtD,EAAAA,EAAAA,GAOM,MAPN,EAOM,CANJwD,GAKAxD,EAAAA,EAAAA,GAA+F,SAAxFgB,KAAK,OAAOgB,GAAG,aAAalC,MAAM,eAAe8C,IAAI,YAAaa,SAAM,oBAAEpD,EAAAA,YAAAA,EAAAA,cAAAA,KAAjF,YAGFqD,KAUF1D,EAAAA,EAAAA,GA4FM,MA5FN,EA4FM,EA3FJA,EAAAA,EAAAA,GASM,MATN,EASM,CARJ2D,GAQI,SAPJ3D,EAAAA,EAAAA,GAME,SALAgB,KAAK,OACLlB,MAAM,eACNkC,GAAG,QACHqB,YAAY,Q,qCACHvB,EAAAA,YAAYK,MAAKoB,IAL5B,iBAKWzB,EAAAA,YAAYK,YAIzBnC,EAAAA,EAAAA,GAqBM,MArBN,EAqBM,EApBJA,EAAAA,EAAAA,GASM,MATN,EASM,CARJ4D,GAQI,SAPJ5D,EAAAA,EAAAA,GAME,SALAgB,KAAK,OACLlB,MAAM,eACNkC,GAAG,WACHqB,YAAY,Q,qCACHvB,EAAAA,YAAYI,SAAQqB,IAL/B,iBAKWzB,EAAAA,YAAYI,eAGzBlC,EAAAA,EAAAA,GASM,MATN,EASM,CARJ6D,GAQI,SAPJ7D,EAAAA,EAAAA,GAME,SALAgB,KAAK,OACLlB,MAAM,eACNkC,GAAG,OACHqB,YAAY,Q,qCACHvB,EAAAA,YAAYgC,KAAIP,IAL3B,iBAKWzB,EAAAA,YAAYgC,aAK3B9D,EAAAA,EAAAA,GAqBM,MArBN,EAqBM,EApBJA,EAAAA,EAAAA,GASM,MATN,EASM,CARJ+D,GAQI,SAPJ/D,EAAAA,EAAAA,GAME,SALAgB,KAAK,SACLlB,MAAM,eACNkC,GAAG,eACHqB,YAAY,Q,qCACHvB,EAAAA,YAAYM,aAAYmB,IALnC,iBAKWzB,EAAAA,YAAYM,mBAGzBpC,EAAAA,EAAAA,GASM,MATN,EASM,CARJgE,GAQI,SAPJhE,EAAAA,EAAAA,GAME,SALAgB,KAAK,SACLlB,MAAM,eACNkC,GAAG,QACHqB,YAAY,Q,qCACHvB,EAAAA,YAAYO,MAAKkB,IAL5B,iBAKWzB,EAAAA,YAAYO,aAI3B4B,GAEAjE,EAAAA,EAAAA,GASM,MATN,EASM,CARJkE,GAQI,SAPJlE,EAAAA,EAAAA,GAMY,YALVgB,KAAK,OACLlB,MAAM,eACNkC,GAAG,cACHqB,YAAY,U,qCACHvB,EAAAA,YAAYqC,YAAWZ,IALlC,iBAKWzB,EAAAA,YAAYqC,kBAGzBnE,EAAAA,EAAAA,GASM,MATN,EASM,CARJoE,GAQI,SAPJpE,EAAAA,EAAAA,GAMY,YALVgB,KAAK,OACLlB,MAAM,eACNkC,GAAG,UACHqB,YAAY,Y,qCACHvB,EAAAA,YAAYuC,QAAOd,IAL9B,iBAKWzB,EAAAA,YAAYuC,cAGzBrE,EAAAA,EAAAA,GAYM,MAZN,EAYM,EAXJA,EAAAA,EAAAA,GAUM,MAVN,EAUM,WATJA,EAAAA,EAAAA,GAOE,SANAF,MAAM,mBACNkB,KAAK,W,qCACIc,EAAAA,YAAYQ,WAAUiB,GAC9B,aAAY,EACZ,cAAa,EACdvB,GAAG,cANL,iBAGWF,EAAAA,YAAYQ,cAKvBgC,aAMVtE,EAAAA,EAAAA,GAGM,MAHN,EAGM,CAFJuE,GACAvE,EAAAA,EAAAA,GAAuG,UAA/FgB,KAAK,SAASlB,MAAM,kBAAmBM,QAAK,iBAAEoE,EAAAA,MAAK,iBAAmB1C,EAAAA,eAAc,aAjJpG,K,mCA4JF,IACEhB,MAAO,CACL+B,QAAS,CACP7B,KAAMC,OACNC,UACE,MAAO,MAIbuD,OAAQ,CAACC,GAAAA,GACTC,MAAO,CACL9B,UACEtB,KAAKqD,YAAcrD,KAAKsB,UAG5BgC,OACE,MAAO,CACLC,MAAO,GACPF,YAAa,KAGjBvD,QAAS,CACP0D,aACE,MAAMC,EAAezD,KAAK0D,MAAMC,UAAUC,MAAM,GAC1CC,EAAW,IAAIC,SAErBD,EAASE,OAAO,iBAAkBN,GAElC,MAAMO,EAAO,qEAEbhE,KAAKiE,MAAMC,KAAKF,EAAKH,GAAUM,MAAMC,IAC/BA,EAASd,KAAKe,UAChBrE,KAAKqD,YAAYtB,SAAWqC,EAASd,KAAKvB,eAKlDuC,UACEtE,KAAKuD,MAAQ,IAAIgB,KAAJ,CAAUvE,KAAK0D,MAAMH,S,SC/LtC,MAAMrD,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS,KAEpE,U,iCF2CA,IACEoD,OACE,MAAO,CACLkB,SAAU,GACVC,WAAY,GACZpB,YAAa,GACbqB,OAAO,EACPC,WAAW,IAGfC,WAAY,CACVC,aADU,GAEVC,SAFU,KAGVC,WAAUA,GAAAA,GAEZC,OAAQ,CAAC,oBAAqB,WAC9BlF,QAAS,CACPmF,SADO,KAEPC,YAAYhG,EAAO,GACjB,MAAMiG,EAAO,8EAAiFjG,IAE9Fc,KAAK2E,WAAY,EACjB3E,KAAKiE,MAAMmB,IAAID,GAAKhB,MAAMkB,IACxBrF,KAAK2E,WAAY,EACbU,EAAI/B,KAAKe,UACXrE,KAAKwE,SAAWa,EAAI/B,KAAKkB,SACzBxE,KAAKyE,WAAaY,EAAI/B,KAAKmB,gBAIjCa,UAAUZ,EAAOlE,GAEbR,KAAKqD,YADHqB,EACiB,GAEA,IAAKlE,GAE1BR,KAAK0E,MAAQA,EACb,MAAMa,EAAmBvF,KAAK0D,MAAM8B,aACpCD,EAAiBE,aAEnBC,cAAclF,GACZR,KAAK2E,WAAY,EACjB3E,KAAKqD,YAAc7C,EAEnB,IAAI2E,EAAO,sEACPQ,EAAa,OAEZ3F,KAAK0E,QACRS,EAAO,uEAA0E3E,EAAKC,KACtFkF,EAAa,OAEf,MAAMJ,EAAmBvF,KAAK0D,MAAM8B,aACpCxF,KAAKiE,MAAM0B,GAAYR,EAAK,CAAE7B,KAAMtD,KAAKqD,cAAec,MAAMC,IAC5DpE,KAAK2E,WAAY,EACjBY,EAAiBK,YAEjB5F,KAAK6F,kBAAkBzB,EAAU,UACjCpE,KAAK2E,WAAY,MAGrBmB,oBAAoBtF,GAClBR,KAAKqD,YAAc,IAAK7C,GACxB,MAAMuF,EAAe/F,KAAK0D,MAAMsC,SAChCD,EAAaN,aAEfQ,aACEjG,KAAK2E,WAAY,EAEjB,MAAMX,EAAO,uEAA0EhE,KAAKqD,YAAY5C,KAExGT,KAAKiE,MAAMiC,OAAOlC,GAAKG,MAAMC,IAC3BpE,KAAK2E,WAAY,EACjB3E,KAAK6F,kBAAkBzB,EAAU,QAEjC,MAAM2B,EAAe/F,KAAK0D,MAAMsC,SAChCD,EAAaH,YAEb5F,KAAKkF,mBAIXiB,UACEnG,KAAKkF,gBG/HT,MAAM,IAA2B,QAAgB,GAAQ,CAAC,CAAC,SAAS/E,KAEpE","sources":["webpack://record/./src/components/Pagination.vue","webpack://record/./src/components/Pagination.vue?33dc","webpack://record/./src/views/backend/Products.vue","webpack://record/./src/components/ProductModal.vue","webpack://record/./src/components/ProductModal.vue?b0ff","webpack://record/./src/views/backend/Products.vue?306b"],"sourcesContent":["<template>\n  <div>\n    <nav aria-label=\"Page navigation\">\n      <ul class=\"pagination justify-content-end pt-4\">\n        <li class=\"page-item\" :class=\"{ disabled: pages.current_page == 1 }\">\n          <a class=\"page-link\" @click.prevent=\"updatePage(pages.current_page - 1)\">\n            <i :class=\"pages.current_page == 1 ? 'bi-caret-left-fill' : 'bi-caret-left'\" class=\"bi\"></i>\n          </a>\n        </li>\n        <li\n          v-for=\"page in pages.total_pages\"\n          :key=\"page\"\n          class=\"page-item\"\n          :class=\"{ active: pages.current_page == page }\"\n        >\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{ page }}</a>\n        </li>\n        <li class=\"page-item\" :class=\"{ disabled: pages.current_page == pages.total_pages }\">\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(pages.current_page + 1)\">\n            <span aria-hidden=\"true\"\n              ><i\n                :class=\"pages.current_page == pages.total_pages ? 'bi-caret-right-fill' : 'bi-caret-right'\"\n                class=\"bi\"\n              ></i\n            ></span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    pages: {\n      type: Object,\n      default: () => ({\n        total_pages: 1,\n        current_page: 1,\n        has_pre: false,\n        has_next: false\n      })\n    }\n  },\n  methods: {\n    updatePage(page) {\n      this.$emit('emit-pages', page)\n    }\n  }\n}\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=5b60cf63\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Yuan\\\\Desktop\\\\Vue\\\\record\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Loading :active=\"isLoading\" />\n  <div class=\"text-end\">\n    <button type=\"button\" class=\"btn btn-primary\" @click=\"openModal(true)\">增加一個產品</button>\n  </div>\n  <table class=\"table mt-4\">\n    <thead>\n      <tr>\n        <th width=\"120\">分類</th>\n        <th>產品名稱</th>\n        <th width=\"120\">原價</th>\n        <th width=\"120\">售價</th>\n        <th width=\"100\">是否啟用</th>\n        <th width=\"200\">編輯</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr v-for=\"item in products\" :key=\"item.id\">\n        <td>{{ item.category }}</td>\n        <td>{{ item.title }}</td>\n        <td class=\"text-right\">\n          {{ currency(item.origin_price) }}\n        </td>\n        <td class=\"text-right\">\n          {{ currency(item.price) }}\n        </td>\n        <td>\n          <span class=\"text-success\" v-if=\"item.is_enabled\">啟用</span>\n          <span class=\"text-muted\" v-else>未啟用</span>\n        </td>\n        <td>\n          <div class=\"btn-group\">\n            <button type=\"button\" class=\"btn btn-outline-primary btn-sm\" @click=\"openModal(false, item)\">編輯</button>\n            <button type=\"button\" class=\"btn btn-outline-danger btn-sm\" @click=\"openDelProductModal(item)\">刪除</button>\n          </div>\n        </td>\n      </tr>\n    </tbody>\n  </table>\n  <Pagination :pages=\"pagination\" @emit-pages=\"getProducts\" />\n  <ProductModal ref=\"productModal\" :product=\"tempProduct\" @update-product=\"updateProduct\" />\n  <DelModal :item=\"tempProduct\" ref=\"delModal\" @del-item=\"delProduct\" />\n</template>\n\n<script>\nimport ProductModal from '@/components/ProductModal.vue'\nimport DelModal from '@/components/DelModal.vue'\nimport Pagination from '@/components/Pagination.vue'\nimport { currency } from '@/methods/filters'\n\nexport default {\n  data() {\n    return {\n      products: [],\n      pagination: {},\n      tempProduct: {},\n      isNew: false,\n      isLoading: false\n    }\n  },\n  components: {\n    ProductModal,\n    DelModal,\n    Pagination\n  },\n  inject: ['$httpMessageState', 'emitter'],\n  methods: {\n    currency,\n    getProducts(page = 1) {\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/products/?page=${page}`\n\n      this.isLoading = true\n      this.$http.get(api).then((res) => {\n        this.isLoading = false\n        if (res.data.success) {\n          this.products = res.data.products\n          this.pagination = res.data.pagination\n        }\n      })\n    },\n    openModal(isNew, item) {\n      if (isNew) {\n        this.tempProduct = {}\n      } else {\n        this.tempProduct = { ...item }\n      }\n      this.isNew = isNew\n      const productComponent = this.$refs.productModal\n      productComponent.showModal()\n    },\n    updateProduct(item) {\n      this.isLoading = true\n      this.tempProduct = item\n\n      let api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product`\n      let httpMethod = 'post'\n\n      if (!this.isNew) {\n        api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${item.id}`\n        httpMethod = 'put'\n      }\n      const productComponent = this.$refs.productModal\n      this.$http[httpMethod](api, { data: this.tempProduct }).then((response) => {\n        this.isLoading = false\n        productComponent.hideModal()\n\n        this.$httpMessageState(response, '修改產品成功')\n        this.isLoading = false\n      })\n    },\n    openDelProductModal(item) {\n      this.tempProduct = { ...item }\n      const delComponent = this.$refs.delModal\n      delComponent.showModal()\n    },\n    delProduct() {\n      this.isLoading = true\n\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/product/${this.tempProduct.id}`\n\n      this.$http.delete(url).then((response) => {\n        this.isLoading = false\n        this.$httpMessageState(response, '刪除產品')\n\n        const delComponent = this.$refs.delModal\n        delComponent.hideModal()\n\n        this.getProducts()\n      })\n    }\n  },\n  created() {\n    this.getProducts()\n  }\n}\n</script>\n","<template>\n  <!-- Modal -->\n  <div\n    class=\"modal fade\"\n    id=\"exampleModal\"\n    tabindex=\"-1\"\n    aria-labelledby=\"exampleModalLabel\"\n    aria-hidden=\"true\"\n    ref=\"modal\"\n  >\n    <div class=\"modal-dialog modal-xl\" role=\"document\">\n      <div class=\"modal-content border-0\">\n        <div class=\"modal-header bg-dark text-white\">\n          <h5 class=\"modal-title\" id=\"exampleModalLabel\">\n            <span>新增產品</span>\n          </h5>\n          <button type=\"button\" class=\"btn-close\" data-bs-dismiss=\"modal\" aria-label=\"Close\"></button>\n        </div>\n        <div class=\"modal-body\">\n          <div class=\"row\">\n            <div class=\"col-sm-4\">\n              <div class=\"mb-3\">\n                <label for=\"image\" class=\"form-label\">輸入圖片網址</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"image\"\n                  placeholder=\"請輸入圖片連結\"\n                  v-model=\"tempProduct.imageUrl\"\n                />\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"customFile\" class=\"form-label\"\n                  >或 上傳圖片\n                  <i class=\"fas fa-spinner fa-spin\"></i>\n                </label>\n                <!-- 有變更就觸發事件uploadFile ref取得DOM元素-->\n                <input type=\"file\" id=\"customFile\" class=\"form-control\" ref=\"fileInput\" @change=\"uploadFile\" />\n              </div>\n              <!-- 延伸技巧，多圖 -->\n              <div class=\"mt-5\">\n                <div class=\"mb-3 input-group\">\n                  <input type=\"url\" class=\"form-control form-control\" placeholder=\"請輸入連結\" />\n                  <button type=\"button\" class=\"btn btn-outline-danger\">移除</button>\n                </div>\n                <div>\n                  <button type=\"button\" class=\"btn btn-outline-primary btn-sm d-block w-100\">新增圖片</button>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-sm-8\">\n              <div class=\"mb-3\">\n                <label for=\"title\" class=\"form-label\">標題</label>\n                <input\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"title\"\n                  placeholder=\"請輸入標題\"\n                  v-model=\"tempProduct.title\"\n                />\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"category\" class=\"form-label\">分類</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"category\"\n                    placeholder=\"請輸入分類\"\n                    v-model=\"tempProduct.category\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">單位</label>\n                  <input\n                    type=\"text\"\n                    class=\"form-control\"\n                    id=\"unit\"\n                    placeholder=\"請輸入單位\"\n                    v-model=\"tempProduct.unit\"\n                  />\n                </div>\n              </div>\n\n              <div class=\"row gx-2\">\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"origin_price\" class=\"form-label\">原價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"origin_price\"\n                    placeholder=\"請輸入原價\"\n                    v-model=\"tempProduct.origin_price\"\n                  />\n                </div>\n                <div class=\"mb-3 col-md-6\">\n                  <label for=\"price\" class=\"form-label\">售價</label>\n                  <input\n                    type=\"number\"\n                    class=\"form-control\"\n                    id=\"price\"\n                    placeholder=\"請輸入售價\"\n                    v-model=\"tempProduct.price\"\n                  />\n                </div>\n              </div>\n              <hr />\n\n              <div class=\"mb-3\">\n                <label for=\"description\" class=\"form-label\">產品描述</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"description\"\n                  placeholder=\"請輸入產品描述\"\n                  v-model=\"tempProduct.description\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <label for=\"content\" class=\"form-label\">說明內容</label>\n                <textarea\n                  type=\"text\"\n                  class=\"form-control\"\n                  id=\"content\"\n                  placeholder=\"請輸入產品說明內容\"\n                  v-model=\"tempProduct.content\"\n                ></textarea>\n              </div>\n              <div class=\"mb-3\">\n                <div class=\"form-check\">\n                  <input\n                    class=\"form-check-input\"\n                    type=\"checkbox\"\n                    v-model=\"tempProduct.is_enabled\"\n                    :true-value=\"1\"\n                    :false-value=\"0\"\n                    id=\"is_enabled\"\n                  />\n                  <label class=\"form-check-label\" for=\"is_enabled\"> 是否啟用 </label>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"modal-footer\">\n          <button type=\"button\" class=\"btn btn-outline-secondary\" data-bs-dismiss=\"modal\">取消</button>\n          <button type=\"button\" class=\"btn btn-primary\" @click=\"$emit('update-product', tempProduct)\">確認</button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Modal from 'bootstrap/js/dist/modal'\nimport modalMixin from '@/mixins/modalMixin'\n\nexport default {\n  props: {\n    product: {\n      type: Object,\n      default() {\n        return {}\n      }\n    }\n  },\n  mixins: [modalMixin],\n  watch: {\n    product() {\n      this.tempProduct = this.product\n    }\n  },\n  data() {\n    return {\n      modal: {},\n      tempProduct: {}\n    }\n  },\n  methods: {\n    uploadFile() {\n      const uploadedFile = this.$refs.fileInput.files[0]\n      const formData = new FormData()\n\n      formData.append('file-to-upload', uploadedFile)\n\n      const url = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/admin/upload`\n\n      this.$http.post(url, formData).then((response) => {\n        if (response.data.success) {\n          this.tempProduct.imageUrl = response.data.imageUrl\n        }\n      })\n    }\n  },\n  mounted() {\n    this.modal = new Modal(this.$refs.modal)\n  }\n}\n</script>\n","import { render } from \"./ProductModal.vue?vue&type=template&id=75844384\"\nimport script from \"./ProductModal.vue?vue&type=script&lang=js\"\nexport * from \"./ProductModal.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Yuan\\\\Desktop\\\\Vue\\\\record\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { render } from \"./Products.vue?vue&type=template&id=4271d509\"\nimport script from \"./Products.vue?vue&type=script&lang=js\"\nexport * from \"./Products.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Yuan\\\\Desktop\\\\Vue\\\\record\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["class","_createElementBlock","_createElementVNode","disabled","$props","current_page","onClick","$options","_Fragment","_renderList","total_pages","page","key","active","href","_hoisted_3","props","pages","type","Object","default","has_pre","has_next","methods","updatePage","this","$emit","__exports__","render","width","_createVNode","_component_Loading","$data","item","id","_toDisplayString","category","title","origin_price","price","is_enabled","_hoisted_9","_hoisted_10","_component_Pagination","onEmitPages","_component_ProductModal","ref","product","onUpdateProduct","_component_DelModal","onDelItem","tabindex","role","for","_hoisted_4","placeholder","imageUrl","$event","_hoisted_11","onChange","_hoisted_12","_hoisted_15","_hoisted_18","_hoisted_20","unit","_hoisted_23","_hoisted_25","_hoisted_26","_hoisted_28","description","_hoisted_30","content","_hoisted_33","_hoisted_35","_ctx","mixins","modalMixin","watch","tempProduct","data","modal","uploadFile","uploadedFile","$refs","fileInput","files","formData","FormData","append","url","$http","post","then","response","success","mounted","Modal","products","pagination","isNew","isLoading","components","ProductModal","DelModal","Pagination","inject","currency","getProducts","api","get","res","openModal","productComponent","productModal","showModal","updateProduct","httpMethod","hideModal","$httpMessageState","openDelProductModal","delComponent","delModal","delProduct","delete","created"],"sourceRoot":""}