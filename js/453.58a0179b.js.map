{"version":3,"file":"js/453.58a0179b.js","mappings":"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","sources":["webpack://record/./src/methods/commonData.js","webpack://record/./src/methods/saveFavorite.js","webpack://record/./src/components/Pagination.vue","webpack://record/./src/components/Pagination.vue?33dc","webpack://record/./src/views/frontend/UserCart.vue","webpack://record/./src/views/frontend/UserCart.vue?653b"],"sourcesContent":["export const categoryList = [\n  { value: undefined, label: '全部產品', imgUrl: '' },\n  {\n    value: '原聲帶',\n    label: '原聲帶',\n    imgUrl: require('@/assets/img/category_1.jpg')\n  },\n  {\n    value: '古典',\n    label: '古典',\n    imgUrl: require('@/assets/img/category_2.jpg')\n  },\n  {\n    value: '演奏',\n    label: '演奏',\n    imgUrl: require('@/assets/img/category_3.jpg')\n  },\n  {\n    value: '其他',\n    label: '其他',\n    imgUrl: require('@/assets/img/category_4.jpg')\n  }\n]\n","export default {\n  saveFavorite (favorite) {\n    const favoriteStr = JSON.stringify(favorite)\n    localStorage.setItem('favoriteProduct', favoriteStr)\n  },\n  getFavorite () {\n    return JSON.parse(localStorage.getItem('favoriteProduct'))\n  }\n}\n","<template>\n  <div>\n    <nav aria-label=\"Page navigation\">\n      <ul class=\"pagination justify-content-end pt-4\">\n        <li class=\"page-item\" :class=\"{ disabled: pages.current_page == 1 }\">\n          <a class=\"page-link\" @click.prevent=\"updatePage(pages.current_page - 1)\">\n            <i :class=\"pages.current_page == 1 ? 'bi-caret-left-fill' : 'bi-caret-left'\" class=\"bi\"></i>\n          </a>\n        </li>\n        <li\n          v-for=\"page in pages.total_pages\"\n          :key=\"page\"\n          class=\"page-item\"\n          :class=\"{ active: pages.current_page == page }\"\n        >\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{ page }}</a>\n        </li>\n        <li class=\"page-item\" :class=\"{ disabled: pages.current_page == pages.total_pages }\">\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(pages.current_page + 1)\">\n            <span aria-hidden=\"true\"\n              ><i\n                :class=\"pages.current_page == pages.total_pages ? 'bi-caret-right-fill' : 'bi-caret-right'\"\n                class=\"bi\"\n              ></i\n            ></span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n</template>\n<script>\nexport default {\n  props: {\n    pages: {\n      type: Object,\n      default: () => ({\n        total_pages: 1,\n        current_page: 1,\n        has_pre: false,\n        has_next: false\n      })\n    }\n  },\n  methods: {\n    updatePage(page) {\n      this.$emit('emit-pages', page)\n    }\n  }\n}\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=5b60cf63\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Yuan\\\\Desktop\\\\Vue\\\\record\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Loading :active=\"isLoading\" />\n  <div class=\"cart\">\n    <div class=\"box\"></div>\n    <div class=\"container pt-3\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-12 col-md-3 p-3 categoryList\">\n          <div class=\"list-group list-group-flush flex-md-column flex-row align-items-end\">\n            <button\n              type=\"button\"\n              class=\"listCategory\"\n              v-for=\"item in categoryList\"\n              :key=\"item.value\"\n              @click=\"replaceUrlQuery('category', item.value)\"\n              :class=\"{ listCategoryActive: item.value === this.category }\"\n            >\n              <span class=\"writingMode\"\n                ><i :class=\"item.value === this.category ? 'bi-music-note-list' : ''\" class=\"bi\"></i\n                >{{ item.label }}</span\n              >\n            </button>\n          </div>\n        </div>\n        <div class=\"col-10 col-md-9 productList\">\n          <div class=\"form-floating mb-2\">\n            <input v-model=\"search\" type=\"text\" class=\"form-control\" id=\"search\" placeholder=\"search\" />\n            <label for=\"search\">search</label>\n          </div>\n          <div class=\"row justify-content-center\" style=\"min-height: 70vh\">\n            <div v-for=\"item in slicePage\" :key=\"item.id\" class=\"col-10 col-md-6 col-lg-4 pb-5\">\n              <div class=\"product\" @click=\"getProduct(item.id)\">\n                <div class=\"imgProduct\">\n                  <a href=\"#\" @click.prevent><i class=\"bi bi-search\" /></a>\n                  <img class=\"card-img-top\" :src=\"item.imageUrl\" :alt=\"item.title\" :title=\"item.title\" />\n                </div>\n                <p class=\"pt-2 fs-5 textover\">{{ item.title }}</p>\n                <div class=\"proDetil pb-3\">\n                  <div class=\"proBtn\">\n                    <button\n                      type=\"button\"\n                      @click.stop=\"addToCart(item.id, 1)\"\n                      class=\"btn colorCart me-2\"\n                      :disabled=\"this.status.loadingItem === item.id\"\n                    >\n                      <i class=\"bi bi-cart\" />\n                    </button>\n                    <button type=\"button\" @click.stop=\"toggleFavorite(item)\" class=\"btn btn-favorite colorHeart\">\n                      <i class=\"bi\" :class=\"favorite.includes(item.id) ? 'bi-heart-fill' : 'bi-heart'\"></i>\n                    </button>\n                  </div>\n                  <div class=\"proTitle\">\n                    <span v-if=\"!(item.price == item.origin_price)\" class=\"text-decoration-line-through text-muted fs-6\"\n                      >${{ currency(item.origin_price) }}</span\n                    >\n                    <span v-if=\"item.price == item.origin_price\" class=\"text-light fs-6\">.</span>\n                    <span class=\"fs-4\">${{ currency(item.price) }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-10 col-md-6 col-lg-4\" />\n            <div class=\"col-10 col-md-6 col-lg-4\" />\n          </div>\n        </div>\n        <Pagination\n          :pages=\"{ total_pages: totalPages, current_page: this.page }\"\n          @emit-pages=\"(newPage) => replaceUrlQuery('page', newPage)\"\n        />\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { categoryList } from '@/methods/commonData'\nimport Pagination from '@/components/Pagination.vue'\nimport saveFavorite from '@/methods/saveFavorite'\nimport { currency } from '@/methods/filters'\nexport default {\n  data() {\n    return {\n      categoryList: categoryList,\n      products: [],\n      page: 1,\n      search: '',\n      category: '',\n      pageSize: 6,\n      favorite: saveFavorite.getFavorite() || [],\n      isLoading: false,\n      status: {\n        loadingItem: ''\n      },\n      hover: false\n    }\n  },\n  components: {\n    Pagination\n  },\n  inject: ['$httpMessageState', 'emitter'],\n  methods: {\n    currency,\n    getProducts() {\n      this.isLoading = true\n\n      this.$http\n        .get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`)\n        .then((res) => {\n          this.products = res.data.products\n          this.isLoading = false\n        })\n        .catch((err) => {\n          this.$httpMessageState(err, '連線錯誤')\n        })\n    },\n    updateData(type, value) {\n      this[type] = value\n    },\n    replaceUrlQuery(type, value) {\n      const query = { ...this.$route.query }\n      query[type] = value\n      if (type === 'category') {\n        query.page = 1\n      }\n      this.$router.replace({ query })\n    },\n    toggleFavorite(product) {\n      this.isLoading = true\n      if (this.favorite.includes(product.id)) {\n        this.favorite.splice(this.favorite.indexOf(product.id), 1)\n        this.$httpMessageState(\n          {\n            data: {\n              success: true\n            }\n          },\n          `已將 ${product.title} 移除喜愛清單`\n        )\n        this.isLoading = false\n      } else {\n        this.favorite.push(product.id)\n        this.$httpMessageState(\n          {\n            data: {\n              success: true\n            }\n          },\n          `已將 ${product.title} 加入喜愛清單`\n        )\n        this.isLoading = false\n      }\n      saveFavorite.saveFavorite(this.favorite)\n      this.emitter.emit('update-favorite', this.favorite)\n    },\n    updateFavorite() {\n      this.favorite = saveFavorite.getFavorite()\n    },\n    getProduct(id) {\n      this.$router.push({ path: `/product/${id}`, params: {} })\n    },\n    addToCart(id, qty) {\n      this.isLoading = true\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`\n      const data = {\n        product_id: id,\n        qty\n      }\n      this.status.loadingItem = id\n      this.$http\n        .post(api, { data })\n        .then((response) => {\n          this.isLoading = false\n          this.status.loadingItem = ''\n          this.qty = 1\n          this.emitter.emit('update-cart', id)\n          this.$httpMessageState(response, ` ${response.data.data.product.title}加入購物車 `)\n        })\n        .catch((error) => {\n          this.$httpMessageState(error, '連線錯誤')\n          this.isLoading = false\n        })\n    }\n  },\n  created() {\n    this.getProducts()\n  },\n  watch: {\n    '$route.query': {\n      immediate: true,\n      handler(param) {\n        const { page, search, category } = param\n\n        this.page = parseInt(page, 10) || 1\n        this.search = search\n        this.category = category\n      }\n    }\n  },\n  computed: {\n    filterProducts() {\n      let result = this.products\n\n      if (this.search) {\n        result = result.filter((item) => item.title.match(this.search))\n      }\n\n      if (this.category) {\n        result = result.filter((item) => item.category === this.category)\n      }\n\n      return result\n    },\n    slicePage() {\n      let result = this.filterProducts\n\n      const offset = this.pageSize * (this.page - 1)\n      const end = offset + this.pageSize\n      result = result.slice(offset, end)\n\n      return result\n    },\n    totalPages() {\n      const listLength = this.filterProducts.length\n\n      return Math.ceil(listLength / this.pageSize)\n    }\n  }\n}\n</script>\n\n<style scoped lang=\"scss\">\n@import '@/assets/scss/helpers/_UserCart.scss';\n</style>\n","import { render } from \"./UserCart.vue?vue&type=template&id=b2a354fc&scoped=true\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport \"./UserCart.vue?vue&type=style&index=0&id=b2a354fc&scoped=true&lang=scss\"\n\nimport exportComponent from \"C:\\\\Users\\\\Yuan\\\\Desktop\\\\Vue\\\\record\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-b2a354fc\"]])\n\nexport default __exports__"],"names":["categoryList","value","undefined","label","imgUrl","require","saveFavorite","favorite","favoriteStr","JSON","stringify","localStorage","setItem","getFavorite","parse","getItem","class","_createElementBlock","_createElementVNode","disabled","$props","current_page","onClick","$options","_Fragment","_renderList","total_pages","page","key","active","href","_hoisted_3","props","pages","type","Object","default","has_pre","has_next","methods","updatePage","this","$emit","__exports__","render","for","style","_hoisted_15","_hoisted_22","_createVNode","_component_Loading","$data","_hoisted_2","item","listCategoryActive","category","$event","id","placeholder","_hoisted_11","src","imageUrl","alt","title","_toDisplayString","status","loadingItem","includes","price","origin_price","_hoisted_29","_hoisted_30","_component_Pagination","onEmitPages","newPage","data","products","search","pageSize","isLoading","hover","components","Pagination","inject","currency","getProducts","$http","get","then","res","catch","err","$httpMessageState","updateData","replaceUrlQuery","query","$route","$router","replace","toggleFavorite","product","splice","indexOf","success","push","emitter","emit","updateFavorite","getProduct","path","params","addToCart","qty","api","product_id","post","response","error","created","watch","immediate","handler","param","parseInt","computed","filterProducts","result","filter","match","slicePage","offset","end","slice","totalPages","listLength","length","Math","ceil"],"sourceRoot":""}