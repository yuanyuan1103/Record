{"version":3,"file":"js/353.6d046899.js","mappings":"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","sources":["webpack://record/./src/methods/commonData.js","webpack://record/./src/methods/saveFavorite.js","webpack://record/./src/components/Pagination.vue","webpack://record/./src/components/Pagination.vue?33dc","webpack://record/./src/views/UserCart.vue","webpack://record/./src/views/UserCart.vue?698a"],"sourcesContent":["export const categoryList = [\n  { value: undefined, label: '全部產品', imgUrl: '' },\n  {\n    value: '原聲帶',\n    label: '原聲帶',\n    imgUrl:\n      'https://images.unsplash.com/photo-1518401543587-7bf7a1f74e66?ixlib=rb-1.2.1&raw_url=true&q=80&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470'\n  },\n  {\n    value: '古典',\n    label: '古典',\n    imgUrl:\n      'https://images.unsplash.com/photo-1567517849576-ae9432e1a03e?ixlib=rb-1.2.1&raw_url=true&q=80&fm=jpg&crop=entropy&cs=tinysrgb&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1471'\n  },\n  {\n    value: '演奏',\n    label: '演奏',\n    imgUrl:\n      'https://images.unsplash.com/photo-1601066525716-3cca33c6d4c6?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=80&raw_url=true&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470'\n  },\n  {\n    value: '其他',\n    label: '其他',\n    imgUrl:\n      'https://images.unsplash.com/photo-1526269982786-96fcd6b53d45?crop=entropy&cs=tinysrgb&fm=jpg&ixlib=rb-1.2.1&q=80&raw_url=true&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1470'\n  }\n];\n","export default {\n  saveFavorite(favorite) {\n    const favoriteStr = JSON.stringify(favorite);\n    localStorage.setItem('favoriteProduct', favoriteStr);\n  },\n  getFavorite() {\n    return JSON.parse(localStorage.getItem('favoriteProduct'));\n  }\n};\n","<template>\n  <div>\n    <nav aria-label=\"Page navigation\">\n      <ul class=\"pagination justify-content-end pt-4\">\n        <li class=\"page-item\" :class=\"{ disabled: pages.current_page == 1 }\">\n          <a class=\"page-link\" @click.prevent=\"updatePage(pages.current_page - 1)\">\n            <i :class=\"pages.current_page == 1 ? 'bi-caret-left-fill' : 'bi-caret-left'\" class=\"bi\"></i>\n          </a>\n        </li>\n        <li\n          v-for=\"page in pages.total_pages\"\n          :key=\"page\"\n          class=\"page-item\"\n          :class=\"{ active: pages.current_page == page }\"\n        >\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(page)\">{{ page }}</a>\n        </li>\n        <li class=\"page-item\" :class=\"{ disabled: pages.current_page == pages.total_pages }\">\n          <a class=\"page-link\" href=\"#\" @click.prevent=\"updatePage(pages.current_page + 1)\">\n            <span aria-hidden=\"true\"\n              ><i\n                :class=\"pages.current_page == pages.total_pages ? 'bi-caret-right-fill' : 'bi-caret-right'\"\n                class=\"bi\"\n              ></i\n            ></span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  </div>\n</template>\n<script>\n// :pages=\"{ 頁碼資訊 }\"\n// @emitPages=\"更新頁面事件\"\nexport default {\n  // props: ['pages'],\n  props: {\n    pages: {\n      type: Object,\n      default: () => ({\n        total_pages: 1,\n        current_page: 1,\n        has_pre: false,\n        has_next: false\n      })\n    }\n  },\n  watch: {\n    // pages() {\n    //   console.log(this.pages);\n    // }\n  },\n  methods: {\n    updatePage(page) {\n      this.$emit('emit-pages', page);\n    }\n  }\n};\n</script>\n","import { render } from \"./Pagination.vue?vue&type=template&id=3ec02129\"\nimport script from \"./Pagination.vue?vue&type=script&lang=js\"\nexport * from \"./Pagination.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"C:\\\\Users\\\\Yuan\\\\Desktop\\\\Vue\\\\record\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\n  <Loading :active=\"isLoading\"></Loading>\n  <div class=\"cart\">\n    <div class=\"box\"></div>\n    <div class=\"container\">\n      <div class=\"row justify-content-center\">\n        <div class=\"col-12 col-md-3 p-3 categoryList\">\n          <div class=\"list-group list-group-flush flex-md-column flex-row align-items-end\">\n            <button\n              type=\"button\"\n              class=\"listCategory\"\n              v-for=\"item in categoryList\"\n              :key=\"item.value\"\n              @click.prevent=\"replaceUrlQuery('category', item.value)\"\n              :class=\"{ listCategoryActive: item.value === this.category }\"\n            >\n              <span class=\"writingMode\"\n                ><i :class=\"item.value === this.category ? 'bi-music-note-list' : ''\" class=\"bi\"></i\n                >{{ item.label }}</span\n              >\n            </button>\n          </div>\n        </div>\n        <div class=\"col-10 col-md-9 productList\">\n          <div class=\"form-floating mb-2\">\n            <input v-model=\"search\" type=\"text\" class=\"form-control\" id=\"search\" placeholder=\"search\" />\n            <label for=\"search\">search</label>\n          </div>\n          <div class=\"row justify-content-center\" style=\"min-height: 70vh\">\n            <div v-for=\"item in slicePage\" :key=\"item.id\" class=\"col-10 col-md-6 col-lg-4\">\n              <div class=\"product\">\n                <a href=\"#\" @click.prevent=\"getProduct(item.id)\"><i class=\"bi bi-search\"></i></a>\n                <img :src=\"item.imageUrl\" class=\"card-img-top imgProduct\" alt=\"...\" />\n              </div>\n              <p class=\"pt-2 fs-5 textover\">{{ item.title }}</p>\n              <div class=\"proDetil pb-3\">\n                <div class=\"proBtn\">\n                  <button\n                    type=\"button\"\n                    @click=\"addToCart(item.id, 1)\"\n                    class=\"btn colorCart border border-dark me-2\"\n                    :disabled=\"this.status.loadingItem === item.id\"\n                  >\n                    <i class=\"bi bi-cart\"></i>\n                  </button>\n                  <button\n                    type=\"button\"\n                    @click.stop=\"toggleFavorite(item)\"\n                    class=\"btn btn-favorite colorHeart border border-dark\"\n                  >\n                    <i class=\"bi\" :class=\"favorite.includes(item.id) ? 'bi-heart-fill' : 'bi-heart'\"></i>\n                  </button>\n                </div>\n                <div class=\"proTitle\">\n                  <span v-if=\"!(item.price == item.origin_price)\" class=\"text-decoration-line-through text-muted fs-6\"\n                    >${{ currency(item.origin_price) }}</span\n                  >\n                  <span v-if=\"item.price == item.origin_price\" class=\"text-light fs-6\">.</span>\n                  <span class=\"fs-4\">${{ currency(item.price) }}</span>\n                </div>\n              </div>\n            </div>\n            <div class=\"col-10 col-md-6 col-lg-4\" />\n            <div class=\"col-10 col-md-6 col-lg-4\" />\n          </div>\n        </div>\n        <!-- 分頁資訊 -->\n        <Pagination\n          :pages=\"{ total_pages: totalPages, current_page: this.page }\"\n          @emit-pages=\"(newPage) => replaceUrlQuery('page', newPage)\"\n        ></Pagination>\n      </div>\n    </div>\n  </div>\n</template>\n<style src=\"../assets/helpers/_UserCart.css\" scoped></style>\n\n<script>\nimport { categoryList } from '../methods/commonData';\nimport Pagination from '@/components/Pagination.vue';\nimport saveFavorite from '@/methods/saveFavorite';\nimport { currency } from '../methods/filters';\nexport default {\n  data() {\n    return {\n      // 分類列表\n      categoryList: categoryList,\n      // 產品列表\n      products: [],\n      // 目前頁數\n      page: 1,\n      // 存取搜尋字串\n      search: '',\n      // 點擊分類列表將分類存入 用來取得分類區分\n      category: '',\n\n      // 取得分頁 設定初始值\n      // pagination: {\n      //   total_pages: 1,\n      //   current_page: 1,\n      //   has_pre: false,\n      //   has_next: false\n      // }\n      pageSize: 6,\n      favorite: saveFavorite.getFavorite() || [],\n      isLoading: false,\n      status: {\n        loadingItem: '' //對應品項id\n      },\n      hover: false\n    };\n  },\n  //區域註冊\n  components: {\n    Pagination\n  },\n  //只要使用inject就可使用 且不需要import\n  inject: ['$httpMessageState', 'emitter'],\n  methods: {\n    currency,\n    getProducts() {\n      this.isLoading = true;\n\n      this.$http\n        .get(`${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/products/all`)\n        .then((res) => {\n          if (!res.data.success) throw new Error(res.data.message);\n\n          // update list\n          this.products = res.data.products;\n\n          // done\n          this.isLoading = false;\n        })\n        .catch((err) => {\n          console.log(err?.message);\n        });\n    },\n    updateData(type, value) {\n      this[type] = value;\n    },\n    replaceUrlQuery(type, value) {\n      let query = { ...this.$route.query };\n      query[type] = value;\n      if (type == 'category') {\n        query.page = 1;\n      }\n\n      // const query = { ...this.$route.query, [type]: value };\n      this.$router.replace({ query });\n    },\n    toggleFavorite(product) {\n      this.isLoading = true;\n      if (this.favorite.includes(product.id)) {\n        this.favorite.splice(this.favorite.indexOf(product.id), 1); //從最愛移除\n        this.$httpMessageState(\n          {\n            data: {\n              success: true,\n              message: `已將 ${product.title} 移除收藏`\n            }\n          },\n          '移除收藏'\n        );\n        this.isLoading = false;\n      } else {\n        this.favorite.push(product.id); //新增最愛\n        this.$httpMessageState(\n          {\n            data: {\n              success: true,\n              message: `已將 ${product.title} 加入收藏`\n            }\n          },\n          '加入收藏'\n        );\n        this.isLoading = false;\n      }\n      saveFavorite.saveFavorite(this.favorite);\n      this.emitter.emit('update-favorite', this.favorite);\n    },\n    updateFavorite() {\n      this.favorite = saveFavorite.getFavorite();\n    },\n    getProduct(id) {\n      //跳轉至專屬於此產品id的頁面\n      //給予空參數 取代原有的頁數或分類\n      this.$router.push({ path: `/product/${id}`, params: {} });\n    },\n    addToCart(id, qty) {\n      this.isLoading = true;\n      const api = `${process.env.VUE_APP_API}api/${process.env.VUE_APP_PATH}/cart`;\n      const data = {\n        product_id: id,\n        qty\n      };\n      this.status.loadingItem = id;\n      this.$http\n        .post(api, { data })\n        .then((response) => {\n          if (!response.data.success) {\n            this.$httpMessageState(response, '加入購物車');\n            return;\n          }\n          this.isLoading = false;\n          this.status.loadingItem = '';\n          this.qty = 1;\n          this.emitter.emit('update-cart', id);\n          this.$httpMessageState(response, '加入購物車');\n        })\n        .catch((error) => {\n          this.$httpMessageState(error, '連線錯誤');\n          this.isLoading = false;\n        });\n    }\n  },\n  created() {\n    this.getProducts();\n  },\n  watch: {\n    '$route.query': {\n      immediate: true,\n      handler(param) {\n        const { page, search, category } = param;\n\n        this.page = parseInt(page, 10) || 1;\n        this.search = search;\n        this.category = category;\n      }\n    }\n  },\n  computed: {\n    filterProducts() {\n      let result = this.products;\n\n      // search\n      if (this.search) {\n        result = result.filter((item) => item.title.match(this.search));\n      }\n\n      // category\n      if (this.category) {\n        result = result.filter((item) => item.category === this.category);\n      }\n\n      return result;\n    },\n    slicePage() {\n      let result = this.filterProducts;\n\n      // page\n      const offset = this.pageSize * (this.page - 1);\n      const end = offset + this.pageSize;\n      result = result.slice(offset, end);\n\n      return result;\n    },\n    totalPages() {\n      const listLength = this.filterProducts.length;\n\n      return Math.ceil(listLength / this.pageSize);\n    }\n  }\n};\n</script>\n","import { render } from \"./UserCart.vue?vue&type=template&id=223594fe&scoped=true\"\nimport script from \"./UserCart.vue?vue&type=script&lang=js\"\nexport * from \"./UserCart.vue?vue&type=script&lang=js\"\n\nimport \"../assets/helpers/_UserCart.css?vue&type=style&index=0&id=223594fe&scoped=true&lang=css\"\n\nimport exportComponent from \"C:\\\\Users\\\\Yuan\\\\Desktop\\\\Vue\\\\record\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-223594fe\"]])\n\nexport default __exports__"],"names":["categoryList","value","undefined","label","imgUrl","saveFavorite","favorite","favoriteStr","JSON","stringify","localStorage","setItem","getFavorite","parse","getItem","class","_createElementBlock","_createElementVNode","disabled","$props","current_page","onClick","$options","_Fragment","_renderList","total_pages","page","key","active","href","_hoisted_3","props","pages","type","Object","default","has_pre","has_next","watch","methods","updatePage","this","$emit","__exports__","render","for","style","_hoisted_15","_hoisted_22","_createVNode","_component_Loading","$data","_hoisted_2","item","listCategoryActive","category","$event","id","placeholder","_hoisted_11","src","imageUrl","alt","_toDisplayString","title","status","loadingItem","includes","price","origin_price","_hoisted_29","_hoisted_30","_component_Pagination","onEmitPages","newPage","data","products","search","pageSize","isLoading","hover","components","Pagination","inject","currency","getProducts","$http","get","then","res","success","Error","message","catch","err","console","log","updateData","replaceUrlQuery","query","$route","$router","replace","toggleFavorite","product","splice","indexOf","$httpMessageState","push","emitter","emit","updateFavorite","getProduct","path","params","addToCart","qty","api","product_id","post","response","error","created","immediate","handler","param","parseInt","computed","filterProducts","result","filter","match","slicePage","offset","end","slice","totalPages","listLength","length","Math","ceil"],"sourceRoot":""}